2025-06-02 11:10:38,711 - sec_monitor - INFO - Starting SEC filing monitor 
2025-06-02 11:10:38,711 - sec_monitor - INFO - Loading S&P 500 data...
2025-06-02 11:10:38,711 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-06-02 11:10:38,712 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-06-02 11:10:38,712 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-06-02 11:10:38,712 - sec_monitor - INFO - Initializing components...
2025-06-02 11:10:38,712 - sec_monitor - INFO - Initializing components
2025-06-02 11:10:38,712 - sec_monitor - INFO - SEC fetcher initialized
2025-06-02 11:10:38,712 - sec_monitor - INFO - Filing analyzer initialized
2025-06-02 11:10:38,713 - sec_monitor - INFO - Alpaca clients initialized
2025-06-02 11:10:38,713 - sec_monitor - INFO - All components initialized successfully
2025-06-02 11:10:38,714 - sec_monitor - INFO - Found old JSON file, archiving
2025-06-02 11:10:38,714 - sec_monitor - INFO - Starting new filing collection for today
2025-06-02 11:10:38,714 - sec_monitor - INFO - Fetching SEC filings...
2025-06-02 11:10:39,514 - sec_monitor - INFO - Reached old filing, stopping. Found 2 total filings
2025-06-02 11:10:39,515 - sec_monitor - INFO - Found 1 new interesting filings
2025-06-02 11:10:39,515 - sec_monitor - INFO - Found 1 new filings to process
2025-06-02 11:10:39,515 - sec_monitor - INFO - Processing filing 1/1: AES
2025-06-02 11:11:10,034 - sec_monitor - INFO - ==================================================
2025-06-02 11:11:10,034 - sec_monitor - INFO - Processing first chunk
2025-06-02 11:11:10,034 - sec_monitor - INFO - Timestamp: 2025-06-02 11:11:10
2025-06-02 11:11:10,173 - sec_monitor - INFO - token percentage = 3%
2025-06-02 11:11:10,173 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-06-02 11:11:10,173 - sec_monitor - INFO - Timestamp: 2025-06-02 11:11:10
2025-06-02 11:11:15,087 - sec_monitor - INFO - API call successful
2025-06-02 11:11:16,089 - sec_monitor - INFO - Fetching supplementary data...
2025-06-02 11:11:16,309 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-06-02 11:11:16,309 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-06-02 11:11:16,310 - sec_monitor - INFO - Market open: False
2025-06-02 11:11:16,310 - sec_monitor - INFO - Number of filing times mapped: 1
2025-06-02 11:11:16,316 - sec_monitor - INFO - Last trading day: 2025-06-02
2025-06-02 11:11:16,316 - sec_monitor - INFO - Processing ticker: AES
2025-06-02 11:11:16,602 - sec_monitor - INFO - Number of bars for AES: 3
2025-06-02 11:11:16,603 - sec_monitor - INFO - Last bar close for AES: 10.085
2025-06-02 11:11:16,603 - sec_monitor - INFO - Outside market hours price for AES: 10.085
2025-06-02 11:11:16,909 - sec_monitor - INFO - Generating final output...
2025-06-02 11:11:16,909 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-06-02 11:11:16,909 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 5369, 'output_words': 75, 'filings_processed': 1}
2025-06-02 12:42:12,637 - sec_monitor - INFO - Starting SEC filing monitor 
2025-06-02 12:42:12,638 - sec_monitor - INFO - Loading S&P 500 data...
2025-06-02 12:42:12,638 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-06-02 12:42:12,638 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-06-02 12:42:12,638 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-06-02 12:42:12,638 - sec_monitor - INFO - Initializing components...
2025-06-02 12:42:12,638 - sec_monitor - INFO - Initializing components
2025-06-02 12:42:12,639 - sec_monitor - INFO - SEC fetcher initialized
2025-06-02 12:42:12,639 - sec_monitor - INFO - Filing analyzer initialized
2025-06-02 12:42:12,639 - sec_monitor - INFO - Alpaca clients initialized
2025-06-02 12:42:12,639 - sec_monitor - INFO - All components initialized successfully
2025-06-02 12:42:12,640 - sec_monitor - INFO - Found JSON file from today
2025-06-02 12:42:12,640 - sec_monitor - INFO - Found 1 previously processed accessions and 1 filing URLs
2025-06-02 12:42:12,640 - sec_monitor - INFO - Found 1 accession numbers and 1 URLs from previously processed filings
2025-06-02 12:42:12,640 - sec_monitor - INFO - Fetching SEC filings...
2025-06-02 12:42:15,701 - sec_monitor - INFO - Reached old filing, stopping. Found 12 total filings
2025-06-02 12:42:15,702 - sec_monitor - INFO - Found 6 new interesting filings
2025-06-02 12:42:15,702 - sec_monitor - INFO - Found 6 new filings to process
2025-06-02 12:42:15,702 - sec_monitor - INFO - Processing filing 1/6: J
2025-06-02 12:42:46,202 - sec_monitor - INFO - ==================================================
2025-06-02 12:42:46,202 - sec_monitor - INFO - Processing first chunk
2025-06-02 12:42:46,202 - sec_monitor - INFO - Timestamp: 2025-06-02 12:42:46
2025-06-02 12:42:46,336 - sec_monitor - INFO - token percentage = 2%
2025-06-02 12:42:46,336 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-06-02 12:42:46,336 - sec_monitor - INFO - Timestamp: 2025-06-02 12:42:46
2025-06-02 12:42:49,288 - sec_monitor - INFO - API call successful
2025-06-02 12:42:50,289 - sec_monitor - INFO - Processing filing 2/6: AIG
2025-06-02 12:43:20,754 - sec_monitor - INFO - ==================================================
2025-06-02 12:43:20,754 - sec_monitor - INFO - Processing first chunk
2025-06-02 12:43:20,754 - sec_monitor - INFO - Timestamp: 2025-06-02 12:43:20
2025-06-02 12:43:20,927 - sec_monitor - INFO - token percentage = 3%
2025-06-02 12:43:20,927 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-06-02 12:43:20,927 - sec_monitor - INFO - Timestamp: 2025-06-02 12:43:20
2025-06-02 12:43:25,431 - sec_monitor - INFO - API call successful
2025-06-02 12:43:26,433 - sec_monitor - INFO - Processing filing 3/6: UPS
2025-06-02 12:43:57,011 - sec_monitor - INFO - ==================================================
2025-06-02 12:43:57,011 - sec_monitor - INFO - Processing first chunk
2025-06-02 12:43:57,011 - sec_monitor - INFO - Timestamp: 2025-06-02 12:43:57
2025-06-02 12:43:57,156 - sec_monitor - INFO - token percentage = 6%
2025-06-02 12:43:57,157 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-06-02 12:43:57,157 - sec_monitor - INFO - Timestamp: 2025-06-02 12:43:57
2025-06-02 12:44:05,239 - sec_monitor - INFO - API call successful
2025-06-02 12:44:06,240 - sec_monitor - INFO - Processing filing 4/6: HUM
2025-06-02 12:44:36,595 - sec_monitor - INFO - ==================================================
2025-06-02 12:44:36,595 - sec_monitor - INFO - Processing first chunk
2025-06-02 12:44:36,595 - sec_monitor - INFO - Timestamp: 2025-06-02 12:44:36
2025-06-02 12:44:36,681 - sec_monitor - INFO - token percentage = 2%
2025-06-02 12:44:36,681 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-06-02 12:44:36,681 - sec_monitor - INFO - Timestamp: 2025-06-02 12:44:36
2025-06-02 12:44:40,124 - sec_monitor - INFO - API call successful
2025-06-02 12:44:41,126 - sec_monitor - INFO - Processing filing 5/6: CPB
2025-06-02 12:45:45,706 - sec_monitor - INFO - ==================================================
2025-06-02 12:45:45,707 - sec_monitor - INFO - Processing first chunk
2025-06-02 12:45:45,707 - sec_monitor - INFO - Timestamp: 2025-06-02 12:45:45
2025-06-02 12:45:46,716 - sec_monitor - INFO - token percentage = 47%
2025-06-02 12:45:46,717 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-06-02 12:45:46,717 - sec_monitor - INFO - Timestamp: 2025-06-02 12:45:46
2025-06-02 12:45:47,631 - sec_monitor - ERROR - API call failed - Attempt 1
2025-06-02 12:45:47,631 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 12
}
]
2025-06-02 12:45:47,632 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-06-02 12:48:47,730 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-06-02 12:48:47,730 - sec_monitor - INFO - Timestamp: 2025-06-02 12:48:47
2025-06-02 12:48:48,684 - sec_monitor - ERROR - API call failed - Attempt 2
2025-06-02 12:48:48,684 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 12
}
]
2025-06-02 12:48:48,684 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-06-02 12:51:48,785 - sec_monitor - INFO - Making API call - Attempt 3/3
2025-06-02 12:51:48,785 - sec_monitor - INFO - Timestamp: 2025-06-02 12:51:48
2025-06-02 12:51:49,706 - sec_monitor - ERROR - API call failed - Attempt 3
2025-06-02 12:51:49,706 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 10
}
]
2025-06-02 12:51:49,706 - sec_monitor - ERROR - Failed to summarize chunk after 3 attempts: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 10
}
]
2025-06-02 12:52:19,736 - sec_monitor - INFO - ==================================================
2025-06-02 12:52:19,736 - sec_monitor - INFO - Processing middle chunk
2025-06-02 12:52:19,737 - sec_monitor - INFO - Timestamp: 2025-06-02 12:52:19
2025-06-02 12:52:20,595 - sec_monitor - INFO - token percentage = 41%
2025-06-02 12:52:20,596 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-06-02 12:52:20,596 - sec_monitor - INFO - Timestamp: 2025-06-02 12:52:20
2025-06-02 12:52:21,609 - sec_monitor - ERROR - API call failed - Attempt 1
2025-06-02 12:52:21,609 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 39
}
]
2025-06-02 12:52:21,609 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-06-02 12:55:21,702 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-06-02 12:55:21,702 - sec_monitor - INFO - Timestamp: 2025-06-02 12:55:21
2025-06-02 12:55:22,728 - sec_monitor - ERROR - API call failed - Attempt 2
2025-06-02 12:55:22,728 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 37
}
]
2025-06-02 12:55:22,728 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-06-02 12:58:22,828 - sec_monitor - INFO - Making API call - Attempt 3/3
2025-06-02 12:58:22,828 - sec_monitor - INFO - Timestamp: 2025-06-02 12:58:22
2025-06-02 12:58:23,677 - sec_monitor - ERROR - API call failed - Attempt 3
2025-06-02 12:58:23,677 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 36
}
]
2025-06-02 12:58:23,678 - sec_monitor - ERROR - Failed to summarize chunk after 3 attempts: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 36
}
]
2025-06-02 12:58:53,708 - sec_monitor - INFO - ==================================================
2025-06-02 12:58:53,708 - sec_monitor - INFO - Processing middle chunk
2025-06-02 12:58:53,708 - sec_monitor - INFO - Timestamp: 2025-06-02 12:58:53
2025-06-02 12:58:54,485 - sec_monitor - INFO - token percentage = 65%
2025-06-02 12:58:54,485 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-06-02 12:58:54,485 - sec_monitor - INFO - Timestamp: 2025-06-02 12:58:54
2025-06-02 12:58:55,068 - sec_monitor - ERROR - API call failed - Attempt 1
2025-06-02 12:58:55,068 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 5
}
]
2025-06-02 12:58:55,068 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-06-02 13:01:55,111 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-06-02 13:01:55,111 - sec_monitor - INFO - Timestamp: 2025-06-02 13:01:55
2025-06-02 13:01:55,915 - sec_monitor - ERROR - API call failed - Attempt 2
2025-06-02 13:01:55,916 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 4
}
]
2025-06-02 13:01:55,916 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-06-02 13:04:55,967 - sec_monitor - INFO - Making API call - Attempt 3/3
2025-06-02 13:04:55,968 - sec_monitor - INFO - Timestamp: 2025-06-02 13:04:55
2025-06-02 13:04:56,720 - sec_monitor - ERROR - API call failed - Attempt 3
2025-06-02 13:04:56,720 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 3
}
]
2025-06-02 13:04:56,720 - sec_monitor - ERROR - Failed to summarize chunk after 3 attempts: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 3
}
]
2025-06-02 13:05:26,750 - sec_monitor - INFO - ==================================================
2025-06-02 13:05:26,751 - sec_monitor - INFO - Processing middle chunk
2025-06-02 13:05:26,751 - sec_monitor - INFO - Timestamp: 2025-06-02 13:05:26
2025-06-02 13:05:27,507 - sec_monitor - INFO - token percentage = 45%
2025-06-02 13:05:27,508 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-06-02 13:05:27,508 - sec_monitor - INFO - Timestamp: 2025-06-02 13:05:27
2025-06-02 13:05:28,435 - sec_monitor - ERROR - API call failed - Attempt 1
2025-06-02 13:05:28,436 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 32
}
]
2025-06-02 13:05:28,436 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-06-02 13:08:28,502 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-06-02 13:08:28,502 - sec_monitor - INFO - Timestamp: 2025-06-02 13:08:28
2025-06-02 13:08:29,365 - sec_monitor - ERROR - API call failed - Attempt 2
2025-06-02 13:08:29,366 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 31
}
]
2025-06-02 13:08:29,366 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-06-02 13:11:29,466 - sec_monitor - INFO - Making API call - Attempt 3/3
2025-06-02 13:11:29,466 - sec_monitor - INFO - Timestamp: 2025-06-02 13:11:29
2025-06-02 13:11:30,303 - sec_monitor - ERROR - API call failed - Attempt 3
2025-06-02 13:11:30,303 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 30
}
]
2025-06-02 13:11:30,303 - sec_monitor - ERROR - Failed to summarize chunk after 3 attempts: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 30
}
]
2025-06-02 13:12:00,314 - sec_monitor - INFO - ==================================================
2025-06-02 13:12:00,314 - sec_monitor - INFO - Processing last chunk
2025-06-02 13:12:00,314 - sec_monitor - INFO - Timestamp: 2025-06-02 13:12:00
2025-06-02 13:12:00,606 - sec_monitor - INFO - token percentage = 10%
2025-06-02 13:12:00,607 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-06-02 13:12:00,607 - sec_monitor - INFO - Timestamp: 2025-06-02 13:12:00
2025-06-02 13:12:11,896 - sec_monitor - INFO - API call successful
2025-06-02 13:12:12,898 - sec_monitor - INFO - Processing filing 6/6: CPB
2025-06-02 13:13:04,926 - sec_monitor - INFO - ==================================================
2025-06-02 13:13:04,926 - sec_monitor - INFO - Processing first chunk
2025-06-02 13:13:04,926 - sec_monitor - INFO - Timestamp: 2025-06-02 13:13:04
2025-06-02 13:13:05,277 - sec_monitor - INFO - token percentage = 49%
2025-06-02 13:13:05,277 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-06-02 13:13:05,277 - sec_monitor - INFO - Timestamp: 2025-06-02 13:13:05
2025-06-02 13:13:23,521 - sec_monitor - INFO - API call successful
2025-06-02 13:13:53,530 - sec_monitor - INFO - ==================================================
2025-06-02 13:13:53,530 - sec_monitor - INFO - Processing middle chunk
2025-06-02 13:13:53,530 - sec_monitor - INFO - Timestamp: 2025-06-02 13:13:53
2025-06-02 13:13:53,983 - sec_monitor - INFO - token percentage = 49%
2025-06-02 13:13:53,983 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-06-02 13:13:53,983 - sec_monitor - INFO - Timestamp: 2025-06-02 13:13:53
2025-06-02 13:13:54,457 - sec_monitor - ERROR - API call failed - Attempt 1
2025-06-02 13:13:54,457 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 5
}
]
2025-06-02 13:13:54,457 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-06-02 13:16:54,527 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-06-02 13:16:54,527 - sec_monitor - INFO - Timestamp: 2025-06-02 13:16:54
2025-06-02 13:17:11,721 - sec_monitor - INFO - API call successful
2025-06-02 13:17:41,724 - sec_monitor - INFO - ==================================================
2025-06-02 13:17:41,724 - sec_monitor - INFO - Processing middle chunk
2025-06-02 13:17:41,725 - sec_monitor - INFO - Timestamp: 2025-06-02 13:17:41
2025-06-02 13:17:42,181 - sec_monitor - INFO - token percentage = 51%
2025-06-02 13:17:42,182 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-06-02 13:17:42,182 - sec_monitor - INFO - Timestamp: 2025-06-02 13:17:42
2025-06-02 13:17:42,625 - sec_monitor - ERROR - API call failed - Attempt 1
2025-06-02 13:17:42,625 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 17
}
]
2025-06-02 13:17:42,625 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-06-02 13:20:42,698 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-06-02 13:20:42,698 - sec_monitor - INFO - Timestamp: 2025-06-02 13:20:42
2025-06-02 13:21:00,346 - sec_monitor - INFO - API call successful
2025-06-02 13:21:30,354 - sec_monitor - INFO - ==================================================
2025-06-02 13:21:30,354 - sec_monitor - INFO - Processing last chunk
2025-06-02 13:21:30,354 - sec_monitor - INFO - Timestamp: 2025-06-02 13:21:30
2025-06-02 13:21:30,678 - sec_monitor - INFO - token percentage = 18%
2025-06-02 13:21:30,679 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-06-02 13:21:30,679 - sec_monitor - INFO - Timestamp: 2025-06-02 13:21:30
2025-06-02 13:21:30,948 - sec_monitor - ERROR - API call failed - Attempt 1
2025-06-02 13:21:30,948 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 29
}
]
2025-06-02 13:21:30,948 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-06-02 13:24:31,000 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-06-02 13:24:31,001 - sec_monitor - INFO - Timestamp: 2025-06-02 13:24:31
2025-06-02 13:24:47,324 - sec_monitor - INFO - API call successful
2025-06-02 13:24:47,325 - sec_monitor - INFO - Making combine API call - Attempt 1/3
2025-06-02 13:24:47,325 - sec_monitor - INFO - Timestamp: 2025-06-02 13:24:47
2025-06-02 13:24:48,573 - sec_monitor - INFO - Combine API call successful
2025-06-02 13:24:49,574 - sec_monitor - INFO - Fetching supplementary data...
2025-06-02 13:24:50,085 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-06-02 13:24:50,085 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-06-02 13:24:50,085 - sec_monitor - INFO - Market open: False
2025-06-02 13:24:50,085 - sec_monitor - INFO - Number of filing times mapped: 5
2025-06-02 13:24:50,158 - sec_monitor - INFO - Last trading day: 2025-06-02
2025-06-02 13:24:50,158 - sec_monitor - INFO - Processing ticker: J
2025-06-02 13:24:50,739 - sec_monitor - INFO - Number of bars for J: 3
2025-06-02 13:24:50,740 - sec_monitor - INFO - Last bar close for J: 126.31
2025-06-02 13:24:50,740 - sec_monitor - INFO - Outside market hours price for J: 126.31
2025-06-02 13:24:50,740 - sec_monitor - INFO - Processing ticker: AIG
2025-06-02 13:24:50,817 - sec_monitor - INFO - Number of bars for AIG: 3
2025-06-02 13:24:50,818 - sec_monitor - INFO - Last bar close for AIG: 84.59
2025-06-02 13:24:50,818 - sec_monitor - INFO - Outside market hours price for AIG: 84.59
2025-06-02 13:24:50,818 - sec_monitor - INFO - Processing ticker: UPS
2025-06-02 13:24:50,896 - sec_monitor - INFO - Number of bars for UPS: 3
2025-06-02 13:24:50,896 - sec_monitor - INFO - Last bar close for UPS: 97.52
2025-06-02 13:24:50,896 - sec_monitor - INFO - Outside market hours price for UPS: 97.52
2025-06-02 13:24:50,896 - sec_monitor - INFO - Processing ticker: HUM
2025-06-02 13:24:50,973 - sec_monitor - INFO - Number of bars for HUM: 3
2025-06-02 13:24:50,974 - sec_monitor - INFO - Last bar close for HUM: 233.02
2025-06-02 13:24:50,974 - sec_monitor - INFO - Outside market hours price for HUM: 233.02
2025-06-02 13:24:50,974 - sec_monitor - INFO - Processing ticker: CPB
2025-06-02 13:24:51,050 - sec_monitor - INFO - Number of bars for CPB: 3
2025-06-02 13:24:51,051 - sec_monitor - INFO - Last bar close for CPB: 34.045
2025-06-02 13:24:51,051 - sec_monitor - INFO - Outside market hours price for CPB: 34.045
2025-06-02 13:24:51,051 - sec_monitor - INFO - Processing ticker: CPB
2025-06-02 13:24:51,126 - sec_monitor - INFO - Number of bars for CPB: 3
2025-06-02 13:24:51,126 - sec_monitor - INFO - Last bar close for CPB: 34.045
2025-06-02 13:24:51,126 - sec_monitor - INFO - Outside market hours price for CPB: 34.045
2025-06-02 13:24:54,036 - sec_monitor - INFO - Generating final output...
2025-06-02 13:24:54,037 - sec_monitor - INFO - Successfully merged 6 new filings with existing JSON
2025-06-02 13:24:54,037 - sec_monitor - INFO - Cumulative stats - Input words: 384940, Output words: 542
2025-06-02 13:24:54,037 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-06-02 13:24:54,037 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 379571, 'output_words': 467, 'filings_processed': 6}
2025-06-02 13:34:10,410 - sec_monitor - INFO - Starting SEC filing monitor 
2025-06-02 13:34:10,410 - sec_monitor - INFO - Loading S&P 500 data...
2025-06-02 13:34:10,410 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-06-02 13:34:10,411 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-06-02 13:34:10,411 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-06-02 13:34:10,411 - sec_monitor - INFO - Initializing components...
2025-06-02 13:34:10,411 - sec_monitor - INFO - Initializing components
2025-06-02 13:34:10,411 - sec_monitor - INFO - SEC fetcher initialized
2025-06-02 13:34:10,411 - sec_monitor - INFO - Filing analyzer initialized
2025-06-02 13:34:10,412 - sec_monitor - INFO - Alpaca clients initialized
2025-06-02 13:34:10,412 - sec_monitor - INFO - All components initialized successfully
2025-06-02 13:34:10,413 - sec_monitor - INFO - Found JSON file from today
2025-06-02 13:34:10,413 - sec_monitor - INFO - Found 7 previously processed accessions and 7 filing URLs
2025-06-02 13:34:10,413 - sec_monitor - INFO - Found 7 accession numbers and 7 URLs from previously processed filings
2025-06-02 13:34:10,413 - sec_monitor - INFO - Fetching SEC filings...
2025-06-02 13:34:17,220 - sec_monitor - INFO - Reached old filing, stopping. Found 17 total filings
2025-06-02 13:34:17,221 - sec_monitor - INFO - Found 0 new interesting filings
2025-06-02 13:34:17,221 - sec_monitor - INFO - No new filings to process
2025-06-02 15:22:43,476 - sec_monitor - INFO - Starting SEC filing monitor 
2025-06-02 15:22:43,476 - sec_monitor - INFO - Loading S&P 500 data...
2025-06-02 15:22:43,476 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-06-02 15:22:43,476 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-06-02 15:22:43,477 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-06-02 15:22:43,477 - sec_monitor - INFO - Initializing components...
2025-06-02 15:22:43,477 - sec_monitor - INFO - Initializing components
2025-06-02 15:22:43,477 - sec_monitor - INFO - SEC fetcher initialized
2025-06-02 15:22:43,477 - sec_monitor - INFO - Filing analyzer initialized
2025-06-02 15:22:43,477 - sec_monitor - INFO - Alpaca clients initialized
2025-06-02 15:22:43,477 - sec_monitor - INFO - All components initialized successfully
2025-06-02 15:22:43,478 - sec_monitor - INFO - Found JSON file from today
2025-06-02 15:22:43,478 - sec_monitor - INFO - Found 7 previously processed accessions and 7 filing URLs
2025-06-02 15:22:43,478 - sec_monitor - INFO - Found 7 accession numbers and 7 URLs from previously processed filings
2025-06-02 15:22:43,479 - sec_monitor - INFO - Fetching SEC filings...
2025-06-02 15:22:58,213 - sec_monitor - INFO - Reached old filing, stopping. Found 43 total filings
2025-06-02 15:22:58,214 - sec_monitor - INFO - Found 0 new interesting filings
2025-06-02 15:22:58,214 - sec_monitor - INFO - No new filings to process
