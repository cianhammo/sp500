2025-05-30 11:09:51,816 - sec_monitor - INFO - Starting SEC filing monitor 
2025-05-30 11:09:51,817 - sec_monitor - INFO - Loading S&P 500 data...
2025-05-30 11:09:51,817 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-05-30 11:09:51,817 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-05-30 11:09:51,817 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-05-30 11:09:51,817 - sec_monitor - INFO - Initializing components...
2025-05-30 11:09:51,818 - sec_monitor - INFO - Initializing components
2025-05-30 11:09:51,818 - sec_monitor - INFO - SEC fetcher initialized
2025-05-30 11:09:51,818 - sec_monitor - INFO - Filing analyzer initialized
2025-05-30 11:09:51,818 - sec_monitor - INFO - Alpaca clients initialized
2025-05-30 11:09:51,818 - sec_monitor - INFO - All components initialized successfully
2025-05-30 11:09:51,819 - sec_monitor - INFO - Found old JSON file, archiving
2025-05-30 11:09:51,819 - sec_monitor - INFO - Starting new filing collection for today
2025-05-30 11:09:51,819 - sec_monitor - INFO - Fetching SEC filings...
2025-05-30 11:10:07,001 - sec_monitor - INFO - No more entries found
2025-05-30 11:10:07,001 - sec_monitor - INFO - Completed fetching. Found 92 total filings
2025-05-30 11:10:07,001 - sec_monitor - INFO - Found 2 new interesting filings
2025-05-30 11:10:07,001 - sec_monitor - INFO - Found 2 new filings to process
2025-05-30 11:10:07,001 - sec_monitor - INFO - Processing filing 1/2: INVH
2025-05-30 11:11:00,236 - sec_monitor - INFO - ==================================================
2025-05-30 11:11:00,236 - sec_monitor - INFO - Processing first chunk
2025-05-30 11:11:00,236 - sec_monitor - INFO - Timestamp: 2025-05-30 11:11:00
2025-05-30 11:11:00,617 - sec_monitor - INFO - token percentage = 49%
2025-05-30 11:11:00,618 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-30 11:11:00,618 - sec_monitor - INFO - Timestamp: 2025-05-30 11:11:00
2025-05-30 11:11:22,468 - sec_monitor - INFO - API call successful
2025-05-30 11:11:52,498 - sec_monitor - INFO - ==================================================
2025-05-30 11:11:52,499 - sec_monitor - INFO - Processing middle chunk
2025-05-30 11:11:52,499 - sec_monitor - INFO - Timestamp: 2025-05-30 11:11:52
2025-05-30 11:11:52,798 - sec_monitor - INFO - token percentage = 51%
2025-05-30 11:11:52,799 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-30 11:11:52,799 - sec_monitor - INFO - Timestamp: 2025-05-30 11:11:52
2025-05-30 11:11:53,102 - sec_monitor - ERROR - API call failed - Attempt 1
2025-05-30 11:11:53,102 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 7
}
]
2025-05-30 11:11:53,102 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-05-30 11:14:53,185 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-05-30 11:14:53,185 - sec_monitor - INFO - Timestamp: 2025-05-30 11:14:53
2025-05-30 11:15:10,632 - sec_monitor - INFO - API call successful
2025-05-30 11:15:40,660 - sec_monitor - INFO - ==================================================
2025-05-30 11:15:40,660 - sec_monitor - INFO - Processing middle chunk
2025-05-30 11:15:40,661 - sec_monitor - INFO - Timestamp: 2025-05-30 11:15:40
2025-05-30 11:15:41,039 - sec_monitor - INFO - token percentage = 51%
2025-05-30 11:15:41,039 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-30 11:15:41,039 - sec_monitor - INFO - Timestamp: 2025-05-30 11:15:41
2025-05-30 11:15:41,397 - sec_monitor - ERROR - API call failed - Attempt 1
2025-05-30 11:15:41,397 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 18
}
]
2025-05-30 11:15:41,397 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-05-30 11:18:41,407 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-05-30 11:18:41,407 - sec_monitor - INFO - Timestamp: 2025-05-30 11:18:41
2025-05-30 11:19:06,348 - sec_monitor - INFO - API call successful
2025-05-30 11:19:36,379 - sec_monitor - INFO - ==================================================
2025-05-30 11:19:36,379 - sec_monitor - INFO - Processing middle chunk
2025-05-30 11:19:36,379 - sec_monitor - INFO - Timestamp: 2025-05-30 11:19:36
2025-05-30 11:19:36,701 - sec_monitor - INFO - token percentage = 49%
2025-05-30 11:19:36,701 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-30 11:19:36,701 - sec_monitor - INFO - Timestamp: 2025-05-30 11:19:36
2025-05-30 11:19:37,138 - sec_monitor - ERROR - API call failed - Attempt 1
2025-05-30 11:19:37,138 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 23
}
]
2025-05-30 11:19:37,138 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-05-30 11:22:37,233 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-05-30 11:22:37,234 - sec_monitor - INFO - Timestamp: 2025-05-30 11:22:37
2025-05-30 11:22:55,565 - sec_monitor - INFO - API call successful
2025-05-30 11:23:25,589 - sec_monitor - INFO - ==================================================
2025-05-30 11:23:25,589 - sec_monitor - INFO - Processing last chunk
2025-05-30 11:23:25,589 - sec_monitor - INFO - Timestamp: 2025-05-30 11:23:25
2025-05-30 11:23:25,811 - sec_monitor - INFO - token percentage = 33%
2025-05-30 11:23:25,812 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-30 11:23:25,812 - sec_monitor - INFO - Timestamp: 2025-05-30 11:23:25
2025-05-30 11:23:26,063 - sec_monitor - ERROR - API call failed - Attempt 1
2025-05-30 11:23:26,063 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 34
}
]
2025-05-30 11:23:26,063 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-05-30 11:26:26,141 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-05-30 11:26:26,141 - sec_monitor - INFO - Timestamp: 2025-05-30 11:26:26
2025-05-30 11:26:47,533 - sec_monitor - INFO - API call successful
2025-05-30 11:26:47,533 - sec_monitor - INFO - Making combine API call - Attempt 1/3
2025-05-30 11:26:47,533 - sec_monitor - INFO - Timestamp: 2025-05-30 11:26:47
2025-05-30 11:26:48,646 - sec_monitor - INFO - Combine API call successful
2025-05-30 11:26:49,647 - sec_monitor - INFO - Processing filing 2/2: SNPS
2025-05-30 11:27:19,978 - sec_monitor - INFO - ==================================================
2025-05-30 11:27:19,978 - sec_monitor - INFO - Processing first chunk
2025-05-30 11:27:19,978 - sec_monitor - INFO - Timestamp: 2025-05-30 11:27:19
2025-05-30 11:27:20,038 - sec_monitor - INFO - token percentage = 2%
2025-05-30 11:27:20,038 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-30 11:27:20,038 - sec_monitor - INFO - Timestamp: 2025-05-30 11:27:20
2025-05-30 11:27:23,059 - sec_monitor - INFO - API call successful
2025-05-30 11:27:24,061 - sec_monitor - INFO - Fetching supplementary data...
2025-05-30 11:27:24,431 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-05-30 11:27:24,431 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-05-30 11:27:24,431 - sec_monitor - INFO - Market open: False
2025-05-30 11:27:24,431 - sec_monitor - INFO - Number of filing times mapped: 2
2025-05-30 11:27:24,452 - sec_monitor - INFO - Last trading day: 2025-05-30
2025-05-30 11:27:24,452 - sec_monitor - INFO - Processing ticker: INVH
2025-05-30 11:27:24,700 - sec_monitor - INFO - Number of bars for INVH: 3
2025-05-30 11:27:24,700 - sec_monitor - INFO - Last bar close for INVH: 33.5
2025-05-30 11:27:24,701 - sec_monitor - INFO - Outside market hours price for INVH: 33.5
2025-05-30 11:27:24,701 - sec_monitor - INFO - Processing ticker: SNPS
2025-05-30 11:27:24,728 - sec_monitor - INFO - Number of bars for SNPS: 3
2025-05-30 11:27:24,728 - sec_monitor - INFO - Last bar close for SNPS: 454.91
2025-05-30 11:27:24,728 - sec_monitor - INFO - Outside market hours price for SNPS: 454.91
2025-05-30 11:27:25,581 - sec_monitor - INFO - Generating final output...
2025-05-30 11:27:25,582 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-05-30 11:27:25,582 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 151878, 'output_words': 130, 'filings_processed': 2}
