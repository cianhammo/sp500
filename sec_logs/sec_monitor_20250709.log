2025-07-09 11:10:51,857 - sec_monitor - INFO - Starting SEC filing monitor 
2025-07-09 11:10:51,857 - sec_monitor - INFO - Loading S&P 500 data...
2025-07-09 11:10:51,857 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-07-09 11:10:51,858 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-07-09 11:10:51,858 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-07-09 11:10:51,858 - sec_monitor - INFO - Initializing components...
2025-07-09 11:10:51,858 - sec_monitor - INFO - Initializing components
2025-07-09 11:10:51,858 - sec_monitor - INFO - SEC fetcher initialized
2025-07-09 11:10:51,858 - sec_monitor - INFO - Filing analyzer initialized
2025-07-09 11:10:51,859 - sec_monitor - INFO - Alpaca clients initialized
2025-07-09 11:10:51,859 - sec_monitor - INFO - All components initialized successfully
2025-07-09 11:10:51,860 - sec_monitor - INFO - Found old JSON file, archiving
2025-07-09 11:10:51,860 - sec_monitor - INFO - Starting new filing collection for today
2025-07-09 11:10:51,860 - sec_monitor - INFO - Fetching SEC filings...
2025-07-09 11:11:05,006 - sec_monitor - INFO - No more entries found
2025-07-09 11:11:05,007 - sec_monitor - INFO - Completed fetching. Found 51 total filings
2025-07-09 11:11:05,007 - sec_monitor - INFO - Found 6 new interesting filings
2025-07-09 11:11:05,007 - sec_monitor - INFO - Found 6 new filings to process
2025-07-09 11:11:05,007 - sec_monitor - INFO - Processing filing 1/6: AAPL
2025-07-09 11:11:35,551 - sec_monitor - INFO - ==================================================
2025-07-09 11:11:35,551 - sec_monitor - INFO - Processing first chunk
2025-07-09 11:11:35,551 - sec_monitor - INFO - Timestamp: 2025-07-09 11:11:35
2025-07-09 11:11:35,687 - sec_monitor - INFO - token percentage = 3%
2025-07-09 11:11:35,687 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-07-09 11:11:35,687 - sec_monitor - INFO - Timestamp: 2025-07-09 11:11:35
2025-07-09 11:14:28,814 - sec_monitor - ERROR - API call failed - Attempt 1
2025-07-09 11:14:28,814 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 31
}
]
2025-07-09 11:14:28,814 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-07-09 11:17:28,903 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-07-09 11:17:28,903 - sec_monitor - INFO - Timestamp: 2025-07-09 11:17:28
2025-07-09 11:18:13,722 - sec_monitor - INFO - API call successful
2025-07-09 11:18:14,724 - sec_monitor - INFO - Processing filing 2/6: BG
2025-07-09 11:18:46,242 - sec_monitor - INFO - ==================================================
2025-07-09 11:18:46,243 - sec_monitor - INFO - Processing first chunk
2025-07-09 11:18:46,243 - sec_monitor - INFO - Timestamp: 2025-07-09 11:18:46
2025-07-09 11:18:46,679 - sec_monitor - INFO - token percentage = 14%
2025-07-09 11:18:46,679 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-07-09 11:18:46,679 - sec_monitor - INFO - Timestamp: 2025-07-09 11:18:46
2025-07-09 11:19:27,566 - sec_monitor - INFO - API call successful
2025-07-09 11:19:28,567 - sec_monitor - INFO - Processing filing 3/6: PG
2025-07-09 11:19:59,392 - sec_monitor - INFO - ==================================================
2025-07-09 11:19:59,392 - sec_monitor - INFO - Processing first chunk
2025-07-09 11:19:59,392 - sec_monitor - INFO - Timestamp: 2025-07-09 11:19:59
2025-07-09 11:19:59,532 - sec_monitor - INFO - token percentage = 6%
2025-07-09 11:19:59,532 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-07-09 11:19:59,532 - sec_monitor - INFO - Timestamp: 2025-07-09 11:19:59
2025-07-09 11:20:39,406 - sec_monitor - INFO - API call successful
2025-07-09 11:20:40,408 - sec_monitor - INFO - Processing filing 4/6: KHC
2025-07-09 11:21:12,794 - sec_monitor - INFO - ==================================================
2025-07-09 11:21:12,794 - sec_monitor - INFO - Processing first chunk
2025-07-09 11:21:12,794 - sec_monitor - INFO - Timestamp: 2025-07-09 11:21:12
2025-07-09 11:21:13,474 - sec_monitor - INFO - token percentage = 23%
2025-07-09 11:21:13,474 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-07-09 11:21:13,474 - sec_monitor - INFO - Timestamp: 2025-07-09 11:21:13
2025-07-09 11:21:22,211 - sec_monitor - INFO - API call successful
2025-07-09 11:21:23,212 - sec_monitor - INFO - Processing filing 5/6: APD
2025-07-09 11:21:53,735 - sec_monitor - INFO - ==================================================
2025-07-09 11:21:53,735 - sec_monitor - INFO - Processing first chunk
2025-07-09 11:21:53,735 - sec_monitor - INFO - Timestamp: 2025-07-09 11:21:53
2025-07-09 11:21:53,895 - sec_monitor - INFO - token percentage = 3%
2025-07-09 11:21:53,896 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-07-09 11:21:53,896 - sec_monitor - INFO - Timestamp: 2025-07-09 11:21:53
2025-07-09 11:22:38,798 - sec_monitor - INFO - API call successful
2025-07-09 11:22:39,799 - sec_monitor - INFO - Processing filing 6/6: KLAC
2025-07-09 11:23:11,751 - sec_monitor - INFO - ==================================================
2025-07-09 11:23:11,752 - sec_monitor - INFO - Processing first chunk
2025-07-09 11:23:11,752 - sec_monitor - INFO - Timestamp: 2025-07-09 11:23:11
2025-07-09 11:23:12,547 - sec_monitor - INFO - token percentage = 19%
2025-07-09 11:23:12,547 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-07-09 11:23:12,547 - sec_monitor - INFO - Timestamp: 2025-07-09 11:23:12
2025-07-09 11:23:40,328 - sec_monitor - ERROR - API call failed - Attempt 1
2025-07-09 11:23:40,328 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 20
}
]
2025-07-09 11:23:40,328 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-07-09 11:26:40,415 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-07-09 11:26:40,415 - sec_monitor - INFO - Timestamp: 2025-07-09 11:26:40
2025-07-09 11:27:11,554 - sec_monitor - INFO - API call successful
2025-07-09 11:27:12,556 - sec_monitor - INFO - Fetching supplementary data...
2025-07-09 11:27:13,029 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-07-09 11:27:13,029 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-07-09 11:27:13,029 - sec_monitor - INFO - Market open: False
2025-07-09 11:27:13,029 - sec_monitor - INFO - Number of filing times mapped: 6
2025-07-09 11:27:13,090 - sec_monitor - INFO - Last trading day: 2025-07-09
2025-07-09 11:27:13,090 - sec_monitor - INFO - Processing ticker: AAPL
2025-07-09 11:27:13,276 - sec_monitor - INFO - Number of bars for AAPL: 3
2025-07-09 11:27:13,277 - sec_monitor - INFO - Last bar close for AAPL: 210.095
2025-07-09 11:27:13,277 - sec_monitor - INFO - Outside market hours price for AAPL: 210.095
2025-07-09 11:27:13,277 - sec_monitor - INFO - Processing ticker: BG
2025-07-09 11:27:13,293 - sec_monitor - INFO - Number of bars for BG: 3
2025-07-09 11:27:13,293 - sec_monitor - INFO - Last bar close for BG: 75.83
2025-07-09 11:27:13,294 - sec_monitor - INFO - Outside market hours price for BG: 75.83
2025-07-09 11:27:13,294 - sec_monitor - INFO - Processing ticker: PG
2025-07-09 11:27:13,306 - sec_monitor - INFO - Number of bars for PG: 3
2025-07-09 11:27:13,306 - sec_monitor - INFO - Last bar close for PG: 157.84
2025-07-09 11:27:13,307 - sec_monitor - INFO - Outside market hours price for PG: 157.84
2025-07-09 11:27:13,307 - sec_monitor - INFO - Processing ticker: KHC
2025-07-09 11:27:13,320 - sec_monitor - INFO - Number of bars for KHC: 3
2025-07-09 11:27:13,320 - sec_monitor - INFO - Last bar close for KHC: 26.42
2025-07-09 11:27:13,320 - sec_monitor - INFO - Outside market hours price for KHC: 26.42
2025-07-09 11:27:13,321 - sec_monitor - INFO - Processing ticker: APD
2025-07-09 11:27:13,337 - sec_monitor - INFO - Number of bars for APD: 3
2025-07-09 11:27:13,337 - sec_monitor - INFO - Last bar close for APD: 292.4
2025-07-09 11:27:13,337 - sec_monitor - INFO - Outside market hours price for APD: 292.4
2025-07-09 11:27:13,338 - sec_monitor - INFO - Processing ticker: KLAC
2025-07-09 11:27:13,356 - sec_monitor - INFO - Number of bars for KLAC: 3
2025-07-09 11:27:13,356 - sec_monitor - INFO - Last bar close for KLAC: 919.17
2025-07-09 11:27:13,356 - sec_monitor - INFO - Outside market hours price for KLAC: 919.17
2025-07-09 11:27:15,733 - sec_monitor - INFO - Generating final output...
2025-07-09 11:27:15,733 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-07-09 11:27:15,733 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 212320, 'output_words': 417, 'filings_processed': 6}
2025-07-09 12:43:24,241 - sec_monitor - INFO - Starting SEC filing monitor 
2025-07-09 12:43:24,241 - sec_monitor - INFO - Loading S&P 500 data...
2025-07-09 12:43:24,241 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-07-09 12:43:24,241 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-07-09 12:43:24,241 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-07-09 12:43:24,242 - sec_monitor - INFO - Initializing components...
2025-07-09 12:43:24,242 - sec_monitor - INFO - Initializing components
2025-07-09 12:43:24,242 - sec_monitor - INFO - SEC fetcher initialized
2025-07-09 12:43:24,242 - sec_monitor - INFO - Filing analyzer initialized
2025-07-09 12:43:24,242 - sec_monitor - INFO - Alpaca clients initialized
2025-07-09 12:43:24,242 - sec_monitor - INFO - All components initialized successfully
2025-07-09 12:43:24,243 - sec_monitor - INFO - Found JSON file from today
2025-07-09 12:43:24,243 - sec_monitor - INFO - Found 6 previously processed accessions and 6 filing URLs
2025-07-09 12:43:24,243 - sec_monitor - INFO - Found 6 accession numbers and 6 URLs from previously processed filings
2025-07-09 12:43:24,243 - sec_monitor - INFO - Fetching SEC filings...
2025-07-09 12:43:38,951 - sec_monitor - INFO - No more entries found
2025-07-09 12:43:38,951 - sec_monitor - INFO - Completed fetching. Found 50 total filings
2025-07-09 12:43:38,951 - sec_monitor - INFO - Found 1 new interesting filings
2025-07-09 12:43:38,952 - sec_monitor - INFO - Found 1 new filings to process
2025-07-09 12:43:38,952 - sec_monitor - INFO - Processing filing 1/1: TDG
2025-07-09 12:44:09,460 - sec_monitor - INFO - ==================================================
2025-07-09 12:44:09,460 - sec_monitor - INFO - Processing first chunk
2025-07-09 12:44:09,460 - sec_monitor - INFO - Timestamp: 2025-07-09 12:44:09
2025-07-09 12:44:09,592 - sec_monitor - INFO - token percentage = 2%
2025-07-09 12:44:09,592 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-07-09 12:44:09,592 - sec_monitor - INFO - Timestamp: 2025-07-09 12:44:09
2025-07-09 12:44:36,827 - sec_monitor - INFO - API call successful
2025-07-09 12:44:37,828 - sec_monitor - INFO - Fetching supplementary data...
2025-07-09 12:44:38,481 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-07-09 12:44:38,481 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-07-09 12:44:38,481 - sec_monitor - INFO - Market open: False
2025-07-09 12:44:38,482 - sec_monitor - INFO - Number of filing times mapped: 1
2025-07-09 12:44:38,603 - sec_monitor - INFO - Last trading day: 2025-07-09
2025-07-09 12:44:38,603 - sec_monitor - INFO - Processing ticker: TDG
2025-07-09 12:44:39,255 - sec_monitor - INFO - Number of bars for TDG: 2
2025-07-09 12:44:39,255 - sec_monitor - INFO - Last bar close for TDG: 1529.325
2025-07-09 12:44:39,255 - sec_monitor - INFO - Outside market hours price for TDG: 1529.325
2025-07-09 12:44:39,650 - sec_monitor - INFO - Generating final output...
2025-07-09 12:44:39,651 - sec_monitor - INFO - Successfully merged 1 new filings with existing JSON
2025-07-09 12:44:39,651 - sec_monitor - INFO - Cumulative stats - Input words: 215552, Output words: 479
2025-07-09 12:44:39,651 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-07-09 12:44:39,651 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 3232, 'output_words': 62, 'filings_processed': 1}
2025-07-09 13:35:35,764 - sec_monitor - INFO - Starting SEC filing monitor 
2025-07-09 13:35:35,764 - sec_monitor - INFO - Loading S&P 500 data...
2025-07-09 13:35:35,764 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-07-09 13:35:35,765 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-07-09 13:35:35,765 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-07-09 13:35:35,765 - sec_monitor - INFO - Initializing components...
2025-07-09 13:35:35,765 - sec_monitor - INFO - Initializing components
2025-07-09 13:35:35,765 - sec_monitor - INFO - SEC fetcher initialized
2025-07-09 13:35:35,765 - sec_monitor - INFO - Filing analyzer initialized
2025-07-09 13:35:35,765 - sec_monitor - INFO - Alpaca clients initialized
2025-07-09 13:35:35,766 - sec_monitor - INFO - All components initialized successfully
2025-07-09 13:35:35,766 - sec_monitor - INFO - Found JSON file from today
2025-07-09 13:35:35,767 - sec_monitor - INFO - Found 7 previously processed accessions and 7 filing URLs
2025-07-09 13:35:35,767 - sec_monitor - INFO - Found 7 accession numbers and 7 URLs from previously processed filings
2025-07-09 13:35:35,767 - sec_monitor - INFO - Fetching SEC filings...
2025-07-09 13:35:51,015 - sec_monitor - INFO - No more entries found
2025-07-09 13:35:51,015 - sec_monitor - INFO - Completed fetching. Found 50 total filings
2025-07-09 13:35:51,015 - sec_monitor - INFO - Found 1 new interesting filings
2025-07-09 13:35:51,015 - sec_monitor - INFO - Found 1 new filings to process
2025-07-09 13:35:51,015 - sec_monitor - INFO - Processing filing 1/1: CRM
2025-07-09 13:36:21,479 - sec_monitor - INFO - ==================================================
2025-07-09 13:36:21,479 - sec_monitor - INFO - Processing first chunk
2025-07-09 13:36:21,480 - sec_monitor - INFO - Timestamp: 2025-07-09 13:36:21
2025-07-09 13:36:21,561 - sec_monitor - INFO - token percentage = 2%
2025-07-09 13:36:21,561 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-07-09 13:36:21,561 - sec_monitor - INFO - Timestamp: 2025-07-09 13:36:21
2025-07-09 13:36:33,074 - sec_monitor - INFO - API call successful
2025-07-09 13:36:34,075 - sec_monitor - INFO - Fetching supplementary data...
2025-07-09 13:36:34,568 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-07-09 13:36:34,568 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-07-09 13:36:34,569 - sec_monitor - INFO - Market open: True
2025-07-09 13:36:34,569 - sec_monitor - INFO - Number of filing times mapped: 1
2025-07-09 13:36:34,643 - sec_monitor - INFO - Last trading day: 2025-07-09
2025-07-09 13:36:34,643 - sec_monitor - INFO - Processing ticker: CRM
2025-07-09 13:36:34,881 - sec_monitor - INFO - Number of bars for CRM: 2
2025-07-09 13:36:34,881 - sec_monitor - INFO - Last bar close for CRM: 273.73
2025-07-09 13:36:34,881 - sec_monitor - INFO - Market open price for CRM: 273.73, change: 1.4867269761233837%
2025-07-09 13:36:35,412 - sec_monitor - INFO - Generating final output...
2025-07-09 13:36:35,413 - sec_monitor - INFO - Successfully merged 1 new filings with existing JSON
2025-07-09 13:36:35,413 - sec_monitor - INFO - Cumulative stats - Input words: 219929, Output words: 542
2025-07-09 13:36:35,413 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-07-09 13:36:35,413 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 4377, 'output_words': 63, 'filings_processed': 1}
2025-07-09 15:22:58,035 - sec_monitor - INFO - Starting SEC filing monitor 
2025-07-09 15:22:58,035 - sec_monitor - INFO - Loading S&P 500 data...
2025-07-09 15:22:58,035 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-07-09 15:22:58,036 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-07-09 15:22:58,036 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-07-09 15:22:58,036 - sec_monitor - INFO - Initializing components...
2025-07-09 15:22:58,036 - sec_monitor - INFO - Initializing components
2025-07-09 15:22:58,036 - sec_monitor - INFO - SEC fetcher initialized
2025-07-09 15:22:58,036 - sec_monitor - INFO - Filing analyzer initialized
2025-07-09 15:22:58,037 - sec_monitor - INFO - Alpaca clients initialized
2025-07-09 15:22:58,037 - sec_monitor - INFO - All components initialized successfully
2025-07-09 15:22:58,038 - sec_monitor - INFO - Found JSON file from today
2025-07-09 15:22:58,038 - sec_monitor - INFO - Found 8 previously processed accessions and 8 filing URLs
2025-07-09 15:22:58,038 - sec_monitor - INFO - Found 8 accession numbers and 8 URLs from previously processed filings
2025-07-09 15:22:58,038 - sec_monitor - INFO - Fetching SEC filings...
2025-07-09 15:23:13,026 - sec_monitor - INFO - No more entries found
2025-07-09 15:23:13,027 - sec_monitor - INFO - Completed fetching. Found 53 total filings
2025-07-09 15:23:13,027 - sec_monitor - INFO - Found 0 new interesting filings
2025-07-09 15:23:13,027 - sec_monitor - INFO - No new filings to process
