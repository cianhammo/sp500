2025-08-25 11:10:41,592 - sec_monitor - INFO - Starting SEC filing monitor 
2025-08-25 11:10:41,592 - sec_monitor - INFO - Loading S&P 500 data...
2025-08-25 11:10:41,592 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-08-25 11:10:41,593 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-08-25 11:10:41,593 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-08-25 11:10:41,593 - sec_monitor - INFO - Initializing components...
2025-08-25 11:10:41,593 - sec_monitor - INFO - Initializing components
2025-08-25 11:10:41,593 - sec_monitor - INFO - SEC fetcher initialized
2025-08-25 11:10:41,593 - sec_monitor - INFO - Filing analyzer initialized
2025-08-25 11:10:41,594 - sec_monitor - INFO - Alpaca clients initialized
2025-08-25 11:10:41,594 - sec_monitor - INFO - All components initialized successfully
2025-08-25 11:10:41,595 - sec_monitor - INFO - Found old JSON file, archiving
2025-08-25 11:10:41,595 - sec_monitor - INFO - Starting new filing collection for today
2025-08-25 11:10:41,595 - sec_monitor - INFO - Fetching SEC filings...
2025-08-25 11:10:41,769 - sec_monitor - INFO - Reached old filing, stopping. Found 4 total filings
2025-08-25 11:10:41,769 - sec_monitor - INFO - Found 2 new interesting filings
2025-08-25 11:10:41,770 - sec_monitor - INFO - Found 2 new filings to process
2025-08-25 11:10:41,770 - sec_monitor - INFO - Processing filing 1/2: INTC
2025-08-25 11:11:13,132 - sec_monitor - INFO - ==================================================
2025-08-25 11:11:13,132 - sec_monitor - INFO - Processing first chunk
2025-08-25 11:11:13,132 - sec_monitor - INFO - Timestamp: 2025-08-25 11:11:13
2025-08-25 11:11:13,507 - sec_monitor - INFO - token percentage = 12%
2025-08-25 11:11:13,507 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-25 11:11:13,508 - sec_monitor - INFO - Timestamp: 2025-08-25 11:11:13
2025-08-25 11:11:19,418 - sec_monitor - INFO - API call successful
2025-08-25 11:11:20,420 - sec_monitor - INFO - Processing filing 2/2: KDP
2025-08-25 11:13:01,392 - sec_monitor - INFO - ==================================================
2025-08-25 11:13:01,392 - sec_monitor - INFO - Processing first chunk
2025-08-25 11:13:01,392 - sec_monitor - INFO - Timestamp: 2025-08-25 11:13:01
2025-08-25 11:13:01,861 - sec_monitor - INFO - token percentage = 18%
2025-08-25 11:13:01,861 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-25 11:13:01,861 - sec_monitor - INFO - Timestamp: 2025-08-25 11:13:01
2025-08-25 11:13:11,162 - sec_monitor - INFO - API call successful
2025-08-25 11:13:41,193 - sec_monitor - INFO - ==================================================
2025-08-25 11:13:41,193 - sec_monitor - INFO - Processing middle chunk
2025-08-25 11:13:41,193 - sec_monitor - INFO - Timestamp: 2025-08-25 11:13:41
2025-08-25 11:13:41,575 - sec_monitor - INFO - token percentage = 54%
2025-08-25 11:13:41,575 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-25 11:13:41,575 - sec_monitor - INFO - Timestamp: 2025-08-25 11:13:41
2025-08-25 11:14:00,655 - sec_monitor - INFO - API call successful
2025-08-25 11:14:30,657 - sec_monitor - INFO - ==================================================
2025-08-25 11:14:30,657 - sec_monitor - INFO - Processing middle chunk
2025-08-25 11:14:30,657 - sec_monitor - INFO - Timestamp: 2025-08-25 11:14:30
2025-08-25 11:14:31,055 - sec_monitor - INFO - token percentage = 55%
2025-08-25 11:14:31,055 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-25 11:14:31,056 - sec_monitor - INFO - Timestamp: 2025-08-25 11:14:31
2025-08-25 11:14:50,163 - sec_monitor - INFO - API call successful
2025-08-25 11:15:20,194 - sec_monitor - INFO - ==================================================
2025-08-25 11:15:20,194 - sec_monitor - INFO - Processing middle chunk
2025-08-25 11:15:20,194 - sec_monitor - INFO - Timestamp: 2025-08-25 11:15:20
2025-08-25 11:15:20,611 - sec_monitor - INFO - token percentage = 54%
2025-08-25 11:15:20,611 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-25 11:15:20,611 - sec_monitor - INFO - Timestamp: 2025-08-25 11:15:20
2025-08-25 11:15:39,146 - sec_monitor - INFO - API call successful
2025-08-25 11:16:09,168 - sec_monitor - INFO - ==================================================
2025-08-25 11:16:09,168 - sec_monitor - INFO - Processing middle chunk
2025-08-25 11:16:09,168 - sec_monitor - INFO - Timestamp: 2025-08-25 11:16:09
2025-08-25 11:16:09,577 - sec_monitor - INFO - token percentage = 54%
2025-08-25 11:16:09,577 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-25 11:16:09,577 - sec_monitor - INFO - Timestamp: 2025-08-25 11:16:09
2025-08-25 11:16:09,859 - sec_monitor - ERROR - API call failed - Attempt 1
2025-08-25 11:16:09,860 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 50
}
]
2025-08-25 11:16:09,860 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-08-25 11:19:09,864 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-08-25 11:19:09,864 - sec_monitor - INFO - Timestamp: 2025-08-25 11:19:09
2025-08-25 11:19:28,310 - sec_monitor - INFO - API call successful
2025-08-25 11:19:58,340 - sec_monitor - INFO - ==================================================
2025-08-25 11:19:58,340 - sec_monitor - INFO - Processing middle chunk
2025-08-25 11:19:58,340 - sec_monitor - INFO - Timestamp: 2025-08-25 11:19:58
2025-08-25 11:19:58,744 - sec_monitor - INFO - token percentage = 54%
2025-08-25 11:19:58,744 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-25 11:19:58,745 - sec_monitor - INFO - Timestamp: 2025-08-25 11:19:58
2025-08-25 11:19:59,027 - sec_monitor - ERROR - API call failed - Attempt 1
2025-08-25 11:19:59,028 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 1
}
]
2025-08-25 11:19:59,028 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-08-25 11:22:59,128 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-08-25 11:22:59,128 - sec_monitor - INFO - Timestamp: 2025-08-25 11:22:59
2025-08-25 11:23:17,432 - sec_monitor - INFO - API call successful
2025-08-25 11:23:47,462 - sec_monitor - INFO - ==================================================
2025-08-25 11:23:47,463 - sec_monitor - INFO - Processing middle chunk
2025-08-25 11:23:47,463 - sec_monitor - INFO - Timestamp: 2025-08-25 11:23:47
2025-08-25 11:23:47,882 - sec_monitor - INFO - token percentage = 54%
2025-08-25 11:23:47,883 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-25 11:23:47,883 - sec_monitor - INFO - Timestamp: 2025-08-25 11:23:47
2025-08-25 11:23:48,142 - sec_monitor - ERROR - API call failed - Attempt 1
2025-08-25 11:23:48,142 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 11
}
]
2025-08-25 11:23:48,142 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-08-25 11:26:48,144 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-08-25 11:26:48,144 - sec_monitor - INFO - Timestamp: 2025-08-25 11:26:48
2025-08-25 11:27:06,433 - sec_monitor - INFO - API call successful
2025-08-25 11:27:36,464 - sec_monitor - INFO - ==================================================
2025-08-25 11:27:36,464 - sec_monitor - INFO - Processing middle chunk
2025-08-25 11:27:36,464 - sec_monitor - INFO - Timestamp: 2025-08-25 11:27:36
2025-08-25 11:27:36,938 - sec_monitor - INFO - token percentage = 52%
2025-08-25 11:27:36,938 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-25 11:27:36,938 - sec_monitor - INFO - Timestamp: 2025-08-25 11:27:36
2025-08-25 11:27:56,235 - sec_monitor - INFO - API call successful
2025-08-25 11:28:26,264 - sec_monitor - INFO - ==================================================
2025-08-25 11:28:26,264 - sec_monitor - INFO - Processing middle chunk
2025-08-25 11:28:26,264 - sec_monitor - INFO - Timestamp: 2025-08-25 11:28:26
2025-08-25 11:28:26,567 - sec_monitor - INFO - token percentage = 55%
2025-08-25 11:28:26,568 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-25 11:28:26,568 - sec_monitor - INFO - Timestamp: 2025-08-25 11:28:26
2025-08-25 11:28:50,331 - sec_monitor - INFO - API call successful
2025-08-25 11:29:20,344 - sec_monitor - INFO - ==================================================
2025-08-25 11:29:20,344 - sec_monitor - INFO - Processing last chunk
2025-08-25 11:29:20,344 - sec_monitor - INFO - Timestamp: 2025-08-25 11:29:20
2025-08-25 11:29:20,489 - sec_monitor - INFO - token percentage = 5%
2025-08-25 11:29:20,489 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-25 11:29:20,489 - sec_monitor - INFO - Timestamp: 2025-08-25 11:29:20
2025-08-25 11:29:24,384 - sec_monitor - INFO - API call successful
2025-08-25 11:29:24,384 - sec_monitor - INFO - Making combine API call - Attempt 1/3
2025-08-25 11:29:24,385 - sec_monitor - INFO - Timestamp: 2025-08-25 11:29:24
2025-08-25 11:29:25,318 - sec_monitor - INFO - Combine API call successful
2025-08-25 11:29:26,320 - sec_monitor - INFO - Fetching supplementary data...
2025-08-25 11:29:27,221 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-08-25 11:29:27,221 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-08-25 11:29:27,222 - sec_monitor - INFO - Market open: False
2025-08-25 11:29:27,222 - sec_monitor - INFO - Number of filing times mapped: 2
2025-08-25 11:29:27,318 - sec_monitor - INFO - Last trading day: 2025-08-25
2025-08-25 11:29:27,318 - sec_monitor - INFO - Processing ticker: INTC
2025-08-25 11:29:27,842 - sec_monitor - INFO - Number of bars for INTC: 3
2025-08-25 11:29:27,842 - sec_monitor - INFO - Last bar close for INTC: 24.8
2025-08-25 11:29:27,842 - sec_monitor - INFO - Outside market hours price for INTC: 24.8
2025-08-25 11:29:27,842 - sec_monitor - INFO - Processing ticker: KDP
2025-08-25 11:29:27,902 - sec_monitor - INFO - Number of bars for KDP: 3
2025-08-25 11:29:27,902 - sec_monitor - INFO - Last bar close for KDP: 35.135
2025-08-25 11:29:27,902 - sec_monitor - INFO - Outside market hours price for KDP: 35.135
2025-08-25 11:29:28,789 - sec_monitor - INFO - Generating final output...
2025-08-25 11:29:28,790 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-08-25 11:29:28,790 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 552300, 'output_words': 166, 'filings_processed': 2}
2025-08-25 12:42:39,451 - sec_monitor - INFO - Starting SEC filing monitor 
2025-08-25 12:42:39,451 - sec_monitor - INFO - Loading S&P 500 data...
2025-08-25 12:42:39,451 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-08-25 12:42:39,451 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-08-25 12:42:39,451 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-08-25 12:42:39,451 - sec_monitor - INFO - Initializing components...
2025-08-25 12:42:39,452 - sec_monitor - INFO - Initializing components
2025-08-25 12:42:39,452 - sec_monitor - INFO - SEC fetcher initialized
2025-08-25 12:42:39,452 - sec_monitor - INFO - Filing analyzer initialized
2025-08-25 12:42:39,452 - sec_monitor - INFO - Alpaca clients initialized
2025-08-25 12:42:39,452 - sec_monitor - INFO - All components initialized successfully
2025-08-25 12:42:39,453 - sec_monitor - INFO - Found JSON file from today
2025-08-25 12:42:39,453 - sec_monitor - INFO - Found 2 previously processed accessions and 2 filing URLs
2025-08-25 12:42:39,453 - sec_monitor - INFO - Found 2 accession numbers and 2 URLs from previously processed filings
2025-08-25 12:42:39,453 - sec_monitor - INFO - Fetching SEC filings...
2025-08-25 12:42:41,517 - sec_monitor - INFO - Reached old filing, stopping. Found 8 total filings
2025-08-25 12:42:41,517 - sec_monitor - INFO - Found 3 new interesting filings
2025-08-25 12:42:41,518 - sec_monitor - INFO - Found 3 new filings to process
2025-08-25 12:42:41,518 - sec_monitor - INFO - Processing filing 1/3: IPG
2025-08-25 12:43:12,966 - sec_monitor - INFO - ==================================================
2025-08-25 12:43:12,966 - sec_monitor - INFO - Processing first chunk
2025-08-25 12:43:12,966 - sec_monitor - INFO - Timestamp: 2025-08-25 12:43:12
2025-08-25 12:43:13,196 - sec_monitor - INFO - token percentage = 12%
2025-08-25 12:43:13,197 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-25 12:43:13,197 - sec_monitor - INFO - Timestamp: 2025-08-25 12:43:13
2025-08-25 12:43:19,267 - sec_monitor - INFO - API call successful
2025-08-25 12:43:20,269 - sec_monitor - INFO - Processing filing 2/3: AMT
2025-08-25 12:43:51,068 - sec_monitor - INFO - ==================================================
2025-08-25 12:43:51,068 - sec_monitor - INFO - Processing first chunk
2025-08-25 12:43:51,068 - sec_monitor - INFO - Timestamp: 2025-08-25 12:43:51
2025-08-25 12:43:51,233 - sec_monitor - INFO - token percentage = 5%
2025-08-25 12:43:51,234 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-25 12:43:51,234 - sec_monitor - INFO - Timestamp: 2025-08-25 12:43:51
2025-08-25 12:43:56,066 - sec_monitor - INFO - API call successful
2025-08-25 12:43:57,068 - sec_monitor - INFO - Processing filing 3/3: OMC
2025-08-25 12:44:28,215 - sec_monitor - INFO - ==================================================
2025-08-25 12:44:28,215 - sec_monitor - INFO - Processing first chunk
2025-08-25 12:44:28,215 - sec_monitor - INFO - Timestamp: 2025-08-25 12:44:28
2025-08-25 12:44:28,399 - sec_monitor - INFO - token percentage = 5%
2025-08-25 12:44:28,399 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-25 12:44:28,399 - sec_monitor - INFO - Timestamp: 2025-08-25 12:44:28
2025-08-25 12:44:32,361 - sec_monitor - INFO - API call successful
2025-08-25 12:44:33,362 - sec_monitor - INFO - Fetching supplementary data...
2025-08-25 12:44:33,557 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-08-25 12:44:33,558 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-08-25 12:44:33,558 - sec_monitor - INFO - Market open: False
2025-08-25 12:44:33,558 - sec_monitor - INFO - Number of filing times mapped: 3
2025-08-25 12:44:33,644 - sec_monitor - INFO - Last trading day: 2025-08-25
2025-08-25 12:44:33,644 - sec_monitor - INFO - Processing ticker: IPG
2025-08-25 12:44:34,234 - sec_monitor - INFO - Number of bars for IPG: 3
2025-08-25 12:44:34,234 - sec_monitor - INFO - Last bar close for IPG: 27.26
2025-08-25 12:44:34,235 - sec_monitor - INFO - Outside market hours price for IPG: 27.26
2025-08-25 12:44:34,235 - sec_monitor - INFO - Processing ticker: AMT
2025-08-25 12:44:34,271 - sec_monitor - INFO - Number of bars for AMT: 3
2025-08-25 12:44:34,271 - sec_monitor - INFO - Last bar close for AMT: 211.835
2025-08-25 12:44:34,271 - sec_monitor - INFO - Outside market hours price for AMT: 211.835
2025-08-25 12:44:34,271 - sec_monitor - INFO - Processing ticker: OMC
2025-08-25 12:44:34,305 - sec_monitor - INFO - Number of bars for OMC: 3
2025-08-25 12:44:34,305 - sec_monitor - INFO - Last bar close for OMC: 79.65
2025-08-25 12:44:34,305 - sec_monitor - INFO - Outside market hours price for OMC: 79.65
2025-08-25 12:44:35,512 - sec_monitor - INFO - Generating final output...
2025-08-25 12:44:35,513 - sec_monitor - INFO - Successfully merged 3 new filings with existing JSON
2025-08-25 12:44:35,513 - sec_monitor - INFO - Cumulative stats - Input words: 602752, Output words: 461
2025-08-25 12:44:35,513 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-08-25 12:44:35,513 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 50452, 'output_words': 295, 'filings_processed': 3}
2025-08-25 13:32:28,394 - sec_monitor - INFO - Starting SEC filing monitor 
2025-08-25 13:32:28,394 - sec_monitor - INFO - Loading S&P 500 data...
2025-08-25 13:32:28,394 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-08-25 13:32:28,395 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-08-25 13:32:28,395 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-08-25 13:32:28,395 - sec_monitor - INFO - Initializing components...
2025-08-25 13:32:28,395 - sec_monitor - INFO - Initializing components
2025-08-25 13:32:28,395 - sec_monitor - INFO - SEC fetcher initialized
2025-08-25 13:32:28,395 - sec_monitor - INFO - Filing analyzer initialized
2025-08-25 13:32:28,396 - sec_monitor - INFO - Alpaca clients initialized
2025-08-25 13:32:28,396 - sec_monitor - INFO - All components initialized successfully
2025-08-25 13:32:28,397 - sec_monitor - INFO - Found JSON file from today
2025-08-25 13:32:28,397 - sec_monitor - INFO - Found 5 previously processed accessions and 5 filing URLs
2025-08-25 13:32:28,397 - sec_monitor - INFO - Found 5 accession numbers and 5 URLs from previously processed filings
2025-08-25 13:32:28,397 - sec_monitor - INFO - Fetching SEC filings...
2025-08-25 13:32:31,186 - sec_monitor - INFO - Reached old filing, stopping. Found 9 total filings
2025-08-25 13:32:31,186 - sec_monitor - INFO - Found 0 new interesting filings
2025-08-25 13:32:31,187 - sec_monitor - INFO - No new filings to process
