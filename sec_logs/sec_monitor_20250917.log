2025-09-17 11:09:07,009 - sec_monitor - INFO - Starting SEC filing monitor 
2025-09-17 11:09:07,009 - sec_monitor - INFO - Loading S&P 500 data...
2025-09-17 11:09:07,009 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-09-17 11:09:07,010 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-09-17 11:09:07,010 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-09-17 11:09:07,010 - sec_monitor - INFO - Initializing components...
2025-09-17 11:09:07,010 - sec_monitor - INFO - Initializing components
2025-09-17 11:09:07,010 - sec_monitor - INFO - SEC fetcher initialized
2025-09-17 11:09:07,010 - sec_monitor - INFO - Filing analyzer initialized
2025-09-17 11:09:07,011 - sec_monitor - INFO - Alpaca clients initialized
2025-09-17 11:09:07,011 - sec_monitor - INFO - All components initialized successfully
2025-09-17 11:09:07,012 - sec_monitor - INFO - Found old JSON file, archiving
2025-09-17 11:09:07,012 - sec_monitor - INFO - Starting new filing collection for today
2025-09-17 11:09:07,012 - sec_monitor - INFO - Fetching SEC filings...
2025-09-17 11:09:21,099 - sec_monitor - INFO - No more entries found
2025-09-17 11:09:21,099 - sec_monitor - INFO - Completed fetching. Found 84 total filings
2025-09-17 11:09:21,099 - sec_monitor - INFO - Found 6 new interesting filings
2025-09-17 11:09:21,099 - sec_monitor - INFO - Found 6 new filings to process
2025-09-17 11:09:21,099 - sec_monitor - INFO - Processing filing 1/6: GIS
2025-09-17 11:09:52,535 - sec_monitor - INFO - ==================================================
2025-09-17 11:09:52,535 - sec_monitor - INFO - Processing first chunk
2025-09-17 11:09:52,535 - sec_monitor - INFO - Timestamp: 2025-09-17 11:09:52
2025-09-17 11:09:52,684 - sec_monitor - INFO - token percentage = 6%
2025-09-17 11:09:52,684 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-17 11:09:52,685 - sec_monitor - INFO - Timestamp: 2025-09-17 11:09:52
2025-09-17 11:10:00,230 - sec_monitor - INFO - API call successful
2025-09-17 11:10:01,231 - sec_monitor - INFO - Processing filing 2/6: WDAY
2025-09-17 11:10:31,570 - sec_monitor - INFO - ==================================================
2025-09-17 11:10:31,570 - sec_monitor - INFO - Processing first chunk
2025-09-17 11:10:31,570 - sec_monitor - INFO - Timestamp: 2025-09-17 11:10:31
2025-09-17 11:10:31,643 - sec_monitor - INFO - token percentage = 2%
2025-09-17 11:10:31,643 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-17 11:10:31,643 - sec_monitor - INFO - Timestamp: 2025-09-17 11:10:31
2025-09-17 11:10:43,593 - sec_monitor - INFO - API call successful
2025-09-17 11:10:44,594 - sec_monitor - INFO - Processing filing 3/6: KDP
2025-09-17 11:11:25,660 - sec_monitor - INFO - ==================================================
2025-09-17 11:11:25,660 - sec_monitor - INFO - Processing first chunk
2025-09-17 11:11:25,660 - sec_monitor - INFO - Timestamp: 2025-09-17 11:11:25
2025-09-17 11:11:25,940 - sec_monitor - INFO - token percentage = 48%
2025-09-17 11:11:25,941 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-17 11:11:25,941 - sec_monitor - INFO - Timestamp: 2025-09-17 11:11:25
2025-09-17 11:11:44,718 - sec_monitor - INFO - API call successful
2025-09-17 11:12:14,746 - sec_monitor - INFO - ==================================================
2025-09-17 11:12:14,746 - sec_monitor - INFO - Processing middle chunk
2025-09-17 11:12:14,746 - sec_monitor - INFO - Timestamp: 2025-09-17 11:12:14
2025-09-17 11:12:14,986 - sec_monitor - INFO - token percentage = 49%
2025-09-17 11:12:14,986 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-17 11:12:14,987 - sec_monitor - INFO - Timestamp: 2025-09-17 11:12:14
2025-09-17 11:12:31,275 - sec_monitor - INFO - API call successful
2025-09-17 11:13:01,306 - sec_monitor - INFO - ==================================================
2025-09-17 11:13:01,306 - sec_monitor - INFO - Processing middle chunk
2025-09-17 11:13:01,306 - sec_monitor - INFO - Timestamp: 2025-09-17 11:13:01
2025-09-17 11:13:01,578 - sec_monitor - INFO - token percentage = 51%
2025-09-17 11:13:01,578 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-17 11:13:01,578 - sec_monitor - INFO - Timestamp: 2025-09-17 11:13:01
2025-09-17 11:13:19,006 - sec_monitor - INFO - API call successful
2025-09-17 11:13:49,027 - sec_monitor - INFO - ==================================================
2025-09-17 11:13:49,027 - sec_monitor - INFO - Processing last chunk
2025-09-17 11:13:49,027 - sec_monitor - INFO - Timestamp: 2025-09-17 11:13:49
2025-09-17 11:13:49,189 - sec_monitor - INFO - token percentage = 27%
2025-09-17 11:13:49,189 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-17 11:13:49,189 - sec_monitor - INFO - Timestamp: 2025-09-17 11:13:49
2025-09-17 11:13:49,333 - sec_monitor - ERROR - API call failed - Attempt 1
2025-09-17 11:13:49,333 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 10
}
]
2025-09-17 11:13:49,333 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-09-17 11:16:49,353 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-09-17 11:16:49,353 - sec_monitor - INFO - Timestamp: 2025-09-17 11:16:49
2025-09-17 11:17:06,791 - sec_monitor - INFO - API call successful
2025-09-17 11:17:06,791 - sec_monitor - INFO - Making combine API call - Attempt 1/3
2025-09-17 11:17:06,791 - sec_monitor - INFO - Timestamp: 2025-09-17 11:17:06
2025-09-17 11:17:19,961 - sec_monitor - INFO - Combine API call successful
2025-09-17 11:17:20,962 - sec_monitor - INFO - Processing filing 4/6: MDT
2025-09-17 11:17:51,990 - sec_monitor - INFO - ==================================================
2025-09-17 11:17:51,990 - sec_monitor - INFO - Processing first chunk
2025-09-17 11:17:51,990 - sec_monitor - INFO - Timestamp: 2025-09-17 11:17:51
2025-09-17 11:17:52,172 - sec_monitor - INFO - token percentage = 9%
2025-09-17 11:17:52,173 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-17 11:17:52,173 - sec_monitor - INFO - Timestamp: 2025-09-17 11:17:52
2025-09-17 11:18:00,775 - sec_monitor - INFO - API call successful
2025-09-17 11:18:01,776 - sec_monitor - INFO - Processing filing 5/6: AMT
2025-09-17 11:18:32,377 - sec_monitor - INFO - ==================================================
2025-09-17 11:18:32,377 - sec_monitor - INFO - Processing first chunk
2025-09-17 11:18:32,377 - sec_monitor - INFO - Timestamp: 2025-09-17 11:18:32
2025-09-17 11:18:32,474 - sec_monitor - INFO - token percentage = 7%
2025-09-17 11:18:32,474 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-17 11:18:32,474 - sec_monitor - INFO - Timestamp: 2025-09-17 11:18:32
2025-09-17 11:18:38,949 - sec_monitor - INFO - API call successful
2025-09-17 11:18:39,951 - sec_monitor - INFO - Processing filing 6/6: DLTR
2025-09-17 11:19:16,987 - sec_monitor - INFO - ==================================================
2025-09-17 11:19:16,987 - sec_monitor - INFO - Processing first chunk
2025-09-17 11:19:16,987 - sec_monitor - INFO - Timestamp: 2025-09-17 11:19:16
2025-09-17 11:19:17,157 - sec_monitor - INFO - token percentage = 50%
2025-09-17 11:19:17,157 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-17 11:19:17,158 - sec_monitor - INFO - Timestamp: 2025-09-17 11:19:17
2025-09-17 11:19:36,073 - sec_monitor - INFO - API call successful
2025-09-17 11:20:06,100 - sec_monitor - INFO - ==================================================
2025-09-17 11:20:06,100 - sec_monitor - INFO - Processing last chunk
2025-09-17 11:20:06,100 - sec_monitor - INFO - Timestamp: 2025-09-17 11:20:06
2025-09-17 11:20:06,239 - sec_monitor - INFO - token percentage = 19%
2025-09-17 11:20:06,239 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-17 11:20:06,239 - sec_monitor - INFO - Timestamp: 2025-09-17 11:20:06
2025-09-17 11:20:19,954 - sec_monitor - INFO - API call successful
2025-09-17 11:20:19,955 - sec_monitor - INFO - Making combine API call - Attempt 1/3
2025-09-17 11:20:19,955 - sec_monitor - INFO - Timestamp: 2025-09-17 11:20:19
2025-09-17 11:20:26,026 - sec_monitor - INFO - Combine API call successful
2025-09-17 11:20:27,028 - sec_monitor - INFO - Fetching supplementary data...
2025-09-17 11:20:27,420 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-09-17 11:20:27,420 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-09-17 11:20:27,420 - sec_monitor - INFO - Market open: False
2025-09-17 11:20:27,420 - sec_monitor - INFO - Number of filing times mapped: 6
2025-09-17 11:20:27,501 - sec_monitor - INFO - Last trading day: 2025-09-17
2025-09-17 11:20:27,501 - sec_monitor - INFO - Processing ticker: GIS
2025-09-17 11:20:27,997 - sec_monitor - INFO - Number of bars for GIS: 3
2025-09-17 11:20:27,997 - sec_monitor - INFO - Last bar close for GIS: 49.62
2025-09-17 11:20:27,997 - sec_monitor - INFO - Outside market hours price for GIS: 49.62
2025-09-17 11:20:27,997 - sec_monitor - INFO - Processing ticker: WDAY
2025-09-17 11:20:28,023 - sec_monitor - INFO - Number of bars for WDAY: 4
2025-09-17 11:20:28,023 - sec_monitor - INFO - Last bar close for WDAY: 218.86
2025-09-17 11:20:28,024 - sec_monitor - INFO - Outside market hours price for WDAY: 218.86
2025-09-17 11:20:28,024 - sec_monitor - INFO - Processing ticker: KDP
2025-09-17 11:20:28,051 - sec_monitor - INFO - Number of bars for KDP: 4
2025-09-17 11:20:28,051 - sec_monitor - INFO - Last bar close for KDP: 26.955
2025-09-17 11:20:28,051 - sec_monitor - INFO - Outside market hours price for KDP: 26.955
2025-09-17 11:20:28,052 - sec_monitor - INFO - Processing ticker: MDT
2025-09-17 11:20:28,079 - sec_monitor - INFO - Number of bars for MDT: 4
2025-09-17 11:20:28,079 - sec_monitor - INFO - Last bar close for MDT: 94.205
2025-09-17 11:20:28,079 - sec_monitor - INFO - Outside market hours price for MDT: 94.205
2025-09-17 11:20:28,079 - sec_monitor - INFO - Processing ticker: AMT
2025-09-17 11:20:28,107 - sec_monitor - INFO - Number of bars for AMT: 4
2025-09-17 11:20:28,107 - sec_monitor - INFO - Last bar close for AMT: 194.82
2025-09-17 11:20:28,107 - sec_monitor - INFO - Outside market hours price for AMT: 194.82
2025-09-17 11:20:28,107 - sec_monitor - INFO - Processing ticker: DLTR
2025-09-17 11:20:28,136 - sec_monitor - INFO - Number of bars for DLTR: 4
2025-09-17 11:20:28,136 - sec_monitor - INFO - Last bar close for DLTR: 95.48
2025-09-17 11:20:28,137 - sec_monitor - INFO - Outside market hours price for DLTR: 95.48
2025-09-17 11:20:30,198 - sec_monitor - INFO - Generating final output...
2025-09-17 11:20:30,200 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-09-17 11:20:30,200 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 188347, 'output_words': 391, 'filings_processed': 6}
2025-09-17 12:40:39,750 - sec_monitor - INFO - Starting SEC filing monitor 
2025-09-17 12:40:39,750 - sec_monitor - INFO - Loading S&P 500 data...
2025-09-17 12:40:39,750 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-09-17 12:40:39,751 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-09-17 12:40:39,751 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-09-17 12:40:39,751 - sec_monitor - INFO - Initializing components...
2025-09-17 12:40:39,751 - sec_monitor - INFO - Initializing components
2025-09-17 12:40:39,752 - sec_monitor - INFO - SEC fetcher initialized
2025-09-17 12:40:39,752 - sec_monitor - INFO - Filing analyzer initialized
2025-09-17 12:40:39,752 - sec_monitor - INFO - Alpaca clients initialized
2025-09-17 12:40:39,752 - sec_monitor - INFO - All components initialized successfully
2025-09-17 12:40:39,753 - sec_monitor - INFO - Found JSON file from today
2025-09-17 12:40:39,753 - sec_monitor - INFO - Found 6 previously processed accessions and 6 filing URLs
2025-09-17 12:40:39,753 - sec_monitor - INFO - Found 6 accession numbers and 6 URLs from previously processed filings
2025-09-17 12:40:39,753 - sec_monitor - INFO - Fetching SEC filings...
2025-09-17 12:40:54,897 - sec_monitor - INFO - No more entries found
2025-09-17 12:40:54,897 - sec_monitor - INFO - Completed fetching. Found 82 total filings
2025-09-17 12:40:54,897 - sec_monitor - INFO - Found 1 new interesting filings
2025-09-17 12:40:54,897 - sec_monitor - INFO - Found 1 new filings to process
2025-09-17 12:40:54,897 - sec_monitor - INFO - Processing filing 1/1: PGR
2025-09-17 12:41:26,041 - sec_monitor - INFO - ==================================================
2025-09-17 12:41:26,041 - sec_monitor - INFO - Processing first chunk
2025-09-17 12:41:26,042 - sec_monitor - INFO - Timestamp: 2025-09-17 12:41:26
2025-09-17 12:41:26,279 - sec_monitor - INFO - token percentage = 10%
2025-09-17 12:41:26,280 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-17 12:41:26,280 - sec_monitor - INFO - Timestamp: 2025-09-17 12:41:26
2025-09-17 12:41:35,476 - sec_monitor - INFO - API call successful
2025-09-17 12:41:36,478 - sec_monitor - INFO - Fetching supplementary data...
2025-09-17 12:41:37,072 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-09-17 12:41:37,072 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-09-17 12:41:37,073 - sec_monitor - INFO - Market open: False
2025-09-17 12:41:37,073 - sec_monitor - INFO - Number of filing times mapped: 1
2025-09-17 12:41:37,189 - sec_monitor - INFO - Last trading day: 2025-09-17
2025-09-17 12:41:37,189 - sec_monitor - INFO - Processing ticker: PGR
2025-09-17 12:41:37,916 - sec_monitor - INFO - Number of bars for PGR: 3
2025-09-17 12:41:37,916 - sec_monitor - INFO - Last bar close for PGR: 245.03
2025-09-17 12:41:37,916 - sec_monitor - INFO - Outside market hours price for PGR: 245.03
2025-09-17 12:41:38,352 - sec_monitor - INFO - Generating final output...
2025-09-17 12:41:38,352 - sec_monitor - INFO - Successfully merged 1 new filings with existing JSON
2025-09-17 12:41:38,353 - sec_monitor - INFO - Cumulative stats - Input words: 196695, Output words: 445
2025-09-17 12:41:38,353 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-09-17 12:41:38,353 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 8348, 'output_words': 54, 'filings_processed': 1}
