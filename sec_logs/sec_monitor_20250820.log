2025-08-20 11:10:00,555 - sec_monitor - INFO - Starting SEC filing monitor 
2025-08-20 11:10:00,555 - sec_monitor - INFO - Loading S&P 500 data...
2025-08-20 11:10:00,555 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-08-20 11:10:00,556 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-08-20 11:10:00,556 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-08-20 11:10:00,556 - sec_monitor - INFO - Initializing components...
2025-08-20 11:10:00,556 - sec_monitor - INFO - Initializing components
2025-08-20 11:10:00,556 - sec_monitor - INFO - SEC fetcher initialized
2025-08-20 11:10:00,556 - sec_monitor - INFO - Filing analyzer initialized
2025-08-20 11:10:00,556 - sec_monitor - INFO - Alpaca clients initialized
2025-08-20 11:10:00,556 - sec_monitor - INFO - All components initialized successfully
2025-08-20 11:10:00,557 - sec_monitor - INFO - Found old JSON file, archiving
2025-08-20 11:10:00,558 - sec_monitor - INFO - Starting new filing collection for today
2025-08-20 11:10:00,558 - sec_monitor - INFO - Fetching SEC filings...
2025-08-20 11:10:16,123 - sec_monitor - INFO - No more entries found
2025-08-20 11:10:16,123 - sec_monitor - INFO - Completed fetching. Found 134 total filings
2025-08-20 11:10:16,123 - sec_monitor - INFO - Found 7 new interesting filings
2025-08-20 11:10:16,123 - sec_monitor - INFO - Found 7 new filings to process
2025-08-20 11:10:16,123 - sec_monitor - INFO - Processing filing 1/7: ADI
2025-08-20 11:10:56,927 - sec_monitor - INFO - ==================================================
2025-08-20 11:10:56,927 - sec_monitor - INFO - Processing first chunk
2025-08-20 11:10:56,927 - sec_monitor - INFO - Timestamp: 2025-08-20 11:10:56
2025-08-20 11:10:57,450 - sec_monitor - INFO - token percentage = 45%
2025-08-20 11:10:57,450 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 11:10:57,450 - sec_monitor - INFO - Timestamp: 2025-08-20 11:10:57
2025-08-20 11:10:57,784 - sec_monitor - ERROR - API call failed - Attempt 1
2025-08-20 11:10:57,784 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 2
}
]
2025-08-20 11:10:57,784 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-08-20 11:13:57,787 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-08-20 11:13:57,787 - sec_monitor - INFO - Timestamp: 2025-08-20 11:13:57
2025-08-20 11:13:58,107 - sec_monitor - ERROR - API call failed - Attempt 2
2025-08-20 11:13:58,108 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 1
}
]
2025-08-20 11:13:58,108 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-08-20 11:16:58,132 - sec_monitor - INFO - Making API call - Attempt 3/3
2025-08-20 11:16:58,132 - sec_monitor - INFO - Timestamp: 2025-08-20 11:16:58
2025-08-20 11:16:58,472 - sec_monitor - ERROR - API call failed - Attempt 3
2025-08-20 11:16:58,472 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 1
}
]
2025-08-20 11:16:58,472 - sec_monitor - ERROR - Failed to summarize chunk after 3 attempts: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 1
}
]
2025-08-20 11:17:28,495 - sec_monitor - INFO - ==================================================
2025-08-20 11:17:28,495 - sec_monitor - INFO - Processing last chunk
2025-08-20 11:17:28,495 - sec_monitor - INFO - Timestamp: 2025-08-20 11:17:28
2025-08-20 11:17:29,080 - sec_monitor - INFO - token percentage = 53%
2025-08-20 11:17:29,081 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 11:17:29,081 - sec_monitor - INFO - Timestamp: 2025-08-20 11:17:29
2025-08-20 11:17:29,356 - sec_monitor - ERROR - API call failed - Attempt 1
2025-08-20 11:17:29,356 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 30
}
]
2025-08-20 11:17:29,356 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-08-20 11:20:29,423 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-08-20 11:20:29,423 - sec_monitor - INFO - Timestamp: 2025-08-20 11:20:29
2025-08-20 11:20:29,733 - sec_monitor - ERROR - API call failed - Attempt 2
2025-08-20 11:20:29,734 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 30
}
]
2025-08-20 11:20:29,734 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-08-20 11:23:29,834 - sec_monitor - INFO - Making API call - Attempt 3/3
2025-08-20 11:23:29,834 - sec_monitor - INFO - Timestamp: 2025-08-20 11:23:29
2025-08-20 11:23:30,159 - sec_monitor - ERROR - API call failed - Attempt 3
2025-08-20 11:23:30,159 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 29
}
]
2025-08-20 11:23:30,159 - sec_monitor - ERROR - Failed to summarize chunk after 3 attempts: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 29
}
]
2025-08-20 11:23:31,161 - sec_monitor - INFO - Processing filing 2/7: ADI
2025-08-20 11:24:02,061 - sec_monitor - INFO - ==================================================
2025-08-20 11:24:02,061 - sec_monitor - INFO - Processing first chunk
2025-08-20 11:24:02,061 - sec_monitor - INFO - Timestamp: 2025-08-20 11:24:02
2025-08-20 11:24:02,261 - sec_monitor - INFO - token percentage = 4%
2025-08-20 11:24:02,261 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 11:24:02,261 - sec_monitor - INFO - Timestamp: 2025-08-20 11:24:02
2025-08-20 11:24:07,887 - sec_monitor - INFO - API call successful
2025-08-20 11:24:08,889 - sec_monitor - INFO - Processing filing 3/7: TGT
2025-08-20 11:24:39,944 - sec_monitor - INFO - ==================================================
2025-08-20 11:24:39,944 - sec_monitor - INFO - Processing first chunk
2025-08-20 11:24:39,944 - sec_monitor - INFO - Timestamp: 2025-08-20 11:24:39
2025-08-20 11:24:40,122 - sec_monitor - INFO - token percentage = 4%
2025-08-20 11:24:40,122 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 11:24:40,123 - sec_monitor - INFO - Timestamp: 2025-08-20 11:24:40
2025-08-20 11:24:43,976 - sec_monitor - INFO - API call successful
2025-08-20 11:24:44,977 - sec_monitor - INFO - Processing filing 4/7: TGT
2025-08-20 11:25:15,398 - sec_monitor - INFO - ==================================================
2025-08-20 11:25:15,399 - sec_monitor - INFO - Processing first chunk
2025-08-20 11:25:15,399 - sec_monitor - INFO - Timestamp: 2025-08-20 11:25:15
2025-08-20 11:25:15,528 - sec_monitor - INFO - token percentage = 2%
2025-08-20 11:25:15,528 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 11:25:15,529 - sec_monitor - INFO - Timestamp: 2025-08-20 11:25:15
2025-08-20 11:25:17,675 - sec_monitor - INFO - API call successful
2025-08-20 11:25:18,677 - sec_monitor - INFO - Processing filing 5/7: LOW
2025-08-20 11:26:11,154 - sec_monitor - INFO - ==================================================
2025-08-20 11:26:11,154 - sec_monitor - INFO - Processing first chunk
2025-08-20 11:26:11,154 - sec_monitor - INFO - Timestamp: 2025-08-20 11:26:11
2025-08-20 11:26:11,745 - sec_monitor - INFO - token percentage = 37%
2025-08-20 11:26:11,745 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 11:26:11,745 - sec_monitor - INFO - Timestamp: 2025-08-20 11:26:11
2025-08-20 11:26:25,541 - sec_monitor - INFO - API call successful
2025-08-20 11:26:55,571 - sec_monitor - INFO - ==================================================
2025-08-20 11:26:55,571 - sec_monitor - INFO - Processing middle chunk
2025-08-20 11:26:55,571 - sec_monitor - INFO - Timestamp: 2025-08-20 11:26:55
2025-08-20 11:26:56,051 - sec_monitor - INFO - token percentage = 57%
2025-08-20 11:26:56,052 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 11:26:56,052 - sec_monitor - INFO - Timestamp: 2025-08-20 11:26:56
2025-08-20 11:26:56,329 - sec_monitor - ERROR - API call failed - Attempt 1
2025-08-20 11:26:56,330 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 3
}
]
2025-08-20 11:26:56,330 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-08-20 11:29:56,387 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-08-20 11:29:56,388 - sec_monitor - INFO - Timestamp: 2025-08-20 11:29:56
2025-08-20 11:30:16,059 - sec_monitor - INFO - API call successful
2025-08-20 11:30:46,090 - sec_monitor - INFO - ==================================================
2025-08-20 11:30:46,090 - sec_monitor - INFO - Processing last chunk
2025-08-20 11:30:46,090 - sec_monitor - INFO - Timestamp: 2025-08-20 11:30:46
2025-08-20 11:30:46,549 - sec_monitor - INFO - token percentage = 51%
2025-08-20 11:30:46,550 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 11:30:46,550 - sec_monitor - INFO - Timestamp: 2025-08-20 11:30:46
2025-08-20 11:30:46,833 - sec_monitor - ERROR - API call failed - Attempt 1
2025-08-20 11:30:46,833 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 13
}
]
2025-08-20 11:30:46,833 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-08-20 11:33:46,927 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-08-20 11:33:46,927 - sec_monitor - INFO - Timestamp: 2025-08-20 11:33:46
2025-08-20 11:34:04,293 - sec_monitor - INFO - API call successful
2025-08-20 11:34:04,294 - sec_monitor - INFO - Making combine API call - Attempt 1/3
2025-08-20 11:34:04,294 - sec_monitor - INFO - Timestamp: 2025-08-20 11:34:04
2025-08-20 11:34:04,376 - sec_monitor - INFO - Combine API call failed - Attempt 1
2025-08-20 11:34:04,377 - sec_monitor - INFO - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 55
}
]
2025-08-20 11:34:04,377 - sec_monitor - INFO - Sleeping for 30 seconds before retry...
2025-08-20 11:34:34,407 - sec_monitor - INFO - Making combine API call - Attempt 2/3
2025-08-20 11:34:34,407 - sec_monitor - INFO - Timestamp: 2025-08-20 11:34:34
2025-08-20 11:34:35,363 - sec_monitor - INFO - Combine API call successful
2025-08-20 11:34:36,365 - sec_monitor - INFO - Processing filing 6/7: LOW
2025-08-20 11:35:12,033 - sec_monitor - INFO - ==================================================
2025-08-20 11:35:12,033 - sec_monitor - INFO - Processing first chunk
2025-08-20 11:35:12,033 - sec_monitor - INFO - Timestamp: 2025-08-20 11:35:12
2025-08-20 11:35:12,346 - sec_monitor - INFO - token percentage = 50%
2025-08-20 11:35:12,346 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 11:35:12,347 - sec_monitor - INFO - Timestamp: 2025-08-20 11:35:12
2025-08-20 11:35:30,247 - sec_monitor - INFO - API call successful
2025-08-20 11:36:00,277 - sec_monitor - INFO - ==================================================
2025-08-20 11:36:00,277 - sec_monitor - INFO - Processing last chunk
2025-08-20 11:36:00,277 - sec_monitor - INFO - Timestamp: 2025-08-20 11:36:00
2025-08-20 11:36:00,401 - sec_monitor - INFO - token percentage = 3%
2025-08-20 11:36:00,401 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 11:36:00,401 - sec_monitor - INFO - Timestamp: 2025-08-20 11:36:00
2025-08-20 11:36:02,822 - sec_monitor - INFO - API call successful
2025-08-20 11:36:02,823 - sec_monitor - INFO - Making combine API call - Attempt 1/3
2025-08-20 11:36:02,823 - sec_monitor - INFO - Timestamp: 2025-08-20 11:36:02
2025-08-20 11:36:04,146 - sec_monitor - INFO - Combine API call successful
2025-08-20 11:36:05,147 - sec_monitor - INFO - Processing filing 7/7: PFG
2025-08-20 11:36:35,647 - sec_monitor - INFO - ==================================================
2025-08-20 11:36:35,647 - sec_monitor - INFO - Processing first chunk
2025-08-20 11:36:35,647 - sec_monitor - INFO - Timestamp: 2025-08-20 11:36:35
2025-08-20 11:36:35,827 - sec_monitor - INFO - token percentage = 4%
2025-08-20 11:36:35,827 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 11:36:35,827 - sec_monitor - INFO - Timestamp: 2025-08-20 11:36:35
2025-08-20 11:36:40,549 - sec_monitor - INFO - API call successful
2025-08-20 11:36:41,551 - sec_monitor - INFO - Fetching supplementary data...
2025-08-20 11:36:41,924 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-08-20 11:36:41,924 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-08-20 11:36:41,924 - sec_monitor - INFO - Market open: False
2025-08-20 11:36:41,924 - sec_monitor - INFO - Number of filing times mapped: 4
2025-08-20 11:36:42,031 - sec_monitor - INFO - Last trading day: 2025-08-20
2025-08-20 11:36:42,032 - sec_monitor - INFO - Processing ticker: ADI
2025-08-20 11:36:42,277 - sec_monitor - INFO - Number of bars for ADI: 3
2025-08-20 11:36:42,278 - sec_monitor - INFO - Last bar close for ADI: 230.73
2025-08-20 11:36:42,278 - sec_monitor - INFO - Outside market hours price for ADI: 230.73
2025-08-20 11:36:42,278 - sec_monitor - INFO - Processing ticker: ADI
2025-08-20 11:36:42,342 - sec_monitor - INFO - Number of bars for ADI: 3
2025-08-20 11:36:42,343 - sec_monitor - INFO - Last bar close for ADI: 230.73
2025-08-20 11:36:42,343 - sec_monitor - INFO - Outside market hours price for ADI: 230.73
2025-08-20 11:36:42,343 - sec_monitor - INFO - Processing ticker: TGT
2025-08-20 11:36:42,425 - sec_monitor - INFO - Number of bars for TGT: 3
2025-08-20 11:36:42,425 - sec_monitor - INFO - Last bar close for TGT: 105.34
2025-08-20 11:36:42,426 - sec_monitor - INFO - Outside market hours price for TGT: 105.34
2025-08-20 11:36:42,426 - sec_monitor - INFO - Processing ticker: TGT
2025-08-20 11:36:42,490 - sec_monitor - INFO - Number of bars for TGT: 3
2025-08-20 11:36:42,490 - sec_monitor - INFO - Last bar close for TGT: 105.34
2025-08-20 11:36:42,490 - sec_monitor - INFO - Outside market hours price for TGT: 105.34
2025-08-20 11:36:42,490 - sec_monitor - INFO - Processing ticker: LOW
2025-08-20 11:36:42,558 - sec_monitor - INFO - Number of bars for LOW: 3
2025-08-20 11:36:42,558 - sec_monitor - INFO - Last bar close for LOW: 256.42
2025-08-20 11:36:42,558 - sec_monitor - INFO - Outside market hours price for LOW: 256.42
2025-08-20 11:36:42,558 - sec_monitor - INFO - Processing ticker: LOW
2025-08-20 11:36:42,622 - sec_monitor - INFO - Number of bars for LOW: 3
2025-08-20 11:36:42,622 - sec_monitor - INFO - Last bar close for LOW: 256.42
2025-08-20 11:36:42,623 - sec_monitor - INFO - Outside market hours price for LOW: 256.42
2025-08-20 11:36:42,623 - sec_monitor - INFO - Processing ticker: PFG
2025-08-20 11:36:42,689 - sec_monitor - INFO - Number of bars for PFG: 4
2025-08-20 11:36:42,689 - sec_monitor - INFO - Last bar close for PFG: 78.61
2025-08-20 11:36:42,689 - sec_monitor - INFO - Outside market hours price for PFG: 78.61
2025-08-20 11:36:45,403 - sec_monitor - INFO - Generating final output...
2025-08-20 11:36:45,403 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-08-20 11:36:45,403 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 328608, 'output_words': 426, 'filings_processed': 7}
2025-08-20 12:41:59,243 - sec_monitor - INFO - Starting SEC filing monitor 
2025-08-20 12:41:59,243 - sec_monitor - INFO - Loading S&P 500 data...
2025-08-20 12:41:59,243 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-08-20 12:41:59,244 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-08-20 12:41:59,244 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-08-20 12:41:59,244 - sec_monitor - INFO - Initializing components...
2025-08-20 12:41:59,244 - sec_monitor - INFO - Initializing components
2025-08-20 12:41:59,244 - sec_monitor - INFO - SEC fetcher initialized
2025-08-20 12:41:59,244 - sec_monitor - INFO - Filing analyzer initialized
2025-08-20 12:41:59,244 - sec_monitor - INFO - Alpaca clients initialized
2025-08-20 12:41:59,245 - sec_monitor - INFO - All components initialized successfully
2025-08-20 12:41:59,245 - sec_monitor - INFO - Found JSON file from today
2025-08-20 12:41:59,246 - sec_monitor - INFO - Found 7 previously processed accessions and 7 filing URLs
2025-08-20 12:41:59,246 - sec_monitor - INFO - Found 7 accession numbers and 7 URLs from previously processed filings
2025-08-20 12:41:59,246 - sec_monitor - INFO - Fetching SEC filings...
2025-08-20 12:42:14,533 - sec_monitor - INFO - No more entries found
2025-08-20 12:42:14,533 - sec_monitor - INFO - Completed fetching. Found 131 total filings
2025-08-20 12:42:14,533 - sec_monitor - INFO - Found 5 new interesting filings
2025-08-20 12:42:14,534 - sec_monitor - INFO - Found 5 new filings to process
2025-08-20 12:42:14,534 - sec_monitor - INFO - Processing filing 1/5: APD
2025-08-20 12:42:45,199 - sec_monitor - INFO - ==================================================
2025-08-20 12:42:45,200 - sec_monitor - INFO - Processing first chunk
2025-08-20 12:42:45,200 - sec_monitor - INFO - Timestamp: 2025-08-20 12:42:45
2025-08-20 12:42:45,360 - sec_monitor - INFO - token percentage = 3%
2025-08-20 12:42:45,360 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 12:42:45,360 - sec_monitor - INFO - Timestamp: 2025-08-20 12:42:45
2025-08-20 12:42:48,784 - sec_monitor - INFO - API call successful
2025-08-20 12:42:49,785 - sec_monitor - INFO - Processing filing 2/5: PGR
2025-08-20 12:43:20,948 - sec_monitor - INFO - ==================================================
2025-08-20 12:43:20,948 - sec_monitor - INFO - Processing first chunk
2025-08-20 12:43:20,948 - sec_monitor - INFO - Timestamp: 2025-08-20 12:43:20
2025-08-20 12:43:21,148 - sec_monitor - INFO - token percentage = 10%
2025-08-20 12:43:21,149 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 12:43:21,149 - sec_monitor - INFO - Timestamp: 2025-08-20 12:43:21
2025-08-20 12:44:08,871 - sec_monitor - INFO - API call successful
2025-08-20 12:44:09,872 - sec_monitor - INFO - Processing filing 3/5: TDG
2025-08-20 12:44:44,497 - sec_monitor - INFO - ==================================================
2025-08-20 12:44:44,497 - sec_monitor - INFO - Processing first chunk
2025-08-20 12:44:44,497 - sec_monitor - INFO - Timestamp: 2025-08-20 12:44:44
2025-08-20 12:44:45,231 - sec_monitor - INFO - token percentage = 33%
2025-08-20 12:44:45,231 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 12:44:45,231 - sec_monitor - INFO - Timestamp: 2025-08-20 12:44:45
2025-08-20 12:44:45,554 - sec_monitor - ERROR - API call failed - Attempt 1
2025-08-20 12:44:45,554 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 14
}
]
2025-08-20 12:44:45,554 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-08-20 12:47:45,654 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-08-20 12:47:45,654 - sec_monitor - INFO - Timestamp: 2025-08-20 12:47:45
2025-08-20 12:47:45,982 - sec_monitor - ERROR - API call failed - Attempt 2
2025-08-20 12:47:45,982 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 14
}
]
2025-08-20 12:47:45,982 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-08-20 12:50:46,029 - sec_monitor - INFO - Making API call - Attempt 3/3
2025-08-20 12:50:46,029 - sec_monitor - INFO - Timestamp: 2025-08-20 12:50:46
2025-08-20 12:50:46,261 - sec_monitor - ERROR - API call failed - Attempt 3
2025-08-20 12:50:46,261 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 13
}
]
2025-08-20 12:50:46,261 - sec_monitor - ERROR - Failed to summarize chunk after 3 attempts: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 13
}
]
2025-08-20 12:51:16,292 - sec_monitor - INFO - ==================================================
2025-08-20 12:51:16,292 - sec_monitor - INFO - Processing last chunk
2025-08-20 12:51:16,292 - sec_monitor - INFO - Timestamp: 2025-08-20 12:51:16
2025-08-20 12:51:16,549 - sec_monitor - INFO - token percentage = 34%
2025-08-20 12:51:16,549 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 12:51:16,549 - sec_monitor - INFO - Timestamp: 2025-08-20 12:51:16
2025-08-20 12:53:19,593 - sec_monitor - INFO - API call successful
2025-08-20 12:53:20,595 - sec_monitor - INFO - Processing filing 4/5: EL
2025-08-20 12:53:51,890 - sec_monitor - INFO - ==================================================
2025-08-20 12:53:51,890 - sec_monitor - INFO - Processing first chunk
2025-08-20 12:53:51,890 - sec_monitor - INFO - Timestamp: 2025-08-20 12:53:51
2025-08-20 12:53:52,061 - sec_monitor - INFO - token percentage = 8%
2025-08-20 12:53:52,061 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 12:53:52,061 - sec_monitor - INFO - Timestamp: 2025-08-20 12:53:52
2025-08-20 12:53:52,206 - sec_monitor - ERROR - API call failed - Attempt 1
2025-08-20 12:53:52,206 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 7
}
]
2025-08-20 12:53:52,206 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-08-20 12:56:52,283 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-08-20 12:56:52,283 - sec_monitor - INFO - Timestamp: 2025-08-20 12:56:52
2025-08-20 12:57:05,450 - sec_monitor - INFO - API call successful
2025-08-20 12:57:06,451 - sec_monitor - INFO - Processing filing 5/5: DAY
2025-08-20 12:57:36,959 - sec_monitor - INFO - ==================================================
2025-08-20 12:57:36,959 - sec_monitor - INFO - Processing first chunk
2025-08-20 12:57:36,959 - sec_monitor - INFO - Timestamp: 2025-08-20 12:57:36
2025-08-20 12:57:37,102 - sec_monitor - INFO - token percentage = 3%
2025-08-20 12:57:37,102 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 12:57:37,102 - sec_monitor - INFO - Timestamp: 2025-08-20 12:57:37
2025-08-20 12:57:40,194 - sec_monitor - INFO - API call successful
2025-08-20 12:57:41,196 - sec_monitor - INFO - Fetching supplementary data...
2025-08-20 12:57:41,564 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-08-20 12:57:41,565 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-08-20 12:57:41,565 - sec_monitor - INFO - Market open: False
2025-08-20 12:57:41,565 - sec_monitor - INFO - Number of filing times mapped: 5
2025-08-20 12:57:41,672 - sec_monitor - INFO - Last trading day: 2025-08-20
2025-08-20 12:57:41,672 - sec_monitor - INFO - Processing ticker: APD
2025-08-20 12:57:42,361 - sec_monitor - INFO - Number of bars for APD: 3
2025-08-20 12:57:42,361 - sec_monitor - INFO - Last bar close for APD: 290.22
2025-08-20 12:57:42,361 - sec_monitor - INFO - Outside market hours price for APD: 290.22
2025-08-20 12:57:42,361 - sec_monitor - INFO - Processing ticker: PGR
2025-08-20 12:57:42,424 - sec_monitor - INFO - Number of bars for PGR: 3
2025-08-20 12:57:42,424 - sec_monitor - INFO - Last bar close for PGR: 250.78
2025-08-20 12:57:42,424 - sec_monitor - INFO - Outside market hours price for PGR: 250.78
2025-08-20 12:57:42,424 - sec_monitor - INFO - Processing ticker: TDG
2025-08-20 12:57:42,484 - sec_monitor - INFO - Number of bars for TDG: 3
2025-08-20 12:57:42,484 - sec_monitor - INFO - Last bar close for TDG: 1397.875
2025-08-20 12:57:42,484 - sec_monitor - INFO - Outside market hours price for TDG: 1397.875
2025-08-20 12:57:42,484 - sec_monitor - INFO - Processing ticker: EL
2025-08-20 12:57:42,545 - sec_monitor - INFO - Number of bars for EL: 3
2025-08-20 12:57:42,545 - sec_monitor - INFO - Last bar close for EL: 90.18
2025-08-20 12:57:42,545 - sec_monitor - INFO - Outside market hours price for EL: 90.18
2025-08-20 12:57:42,545 - sec_monitor - INFO - Processing ticker: DAY
2025-08-20 12:57:42,608 - sec_monitor - INFO - Number of bars for DAY: 3
2025-08-20 12:57:42,608 - sec_monitor - INFO - Last bar close for DAY: 65.505
2025-08-20 12:57:42,609 - sec_monitor - INFO - Outside market hours price for DAY: 65.505
2025-08-20 12:57:44,377 - sec_monitor - INFO - Generating final output...
2025-08-20 12:57:44,378 - sec_monitor - INFO - Successfully merged 5 new filings with existing JSON
2025-08-20 12:57:44,378 - sec_monitor - INFO - Cumulative stats - Input words: 602928, Output words: 833
2025-08-20 12:57:44,378 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-08-20 12:57:44,378 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 274320, 'output_words': 407, 'filings_processed': 5}
2025-08-20 13:32:29,455 - sec_monitor - INFO - Starting SEC filing monitor 
2025-08-20 13:32:29,455 - sec_monitor - INFO - Loading S&P 500 data...
2025-08-20 13:32:29,455 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-08-20 13:32:29,455 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-08-20 13:32:29,455 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-08-20 13:32:29,456 - sec_monitor - INFO - Initializing components...
2025-08-20 13:32:29,456 - sec_monitor - INFO - Initializing components
2025-08-20 13:32:29,456 - sec_monitor - INFO - SEC fetcher initialized
2025-08-20 13:32:29,456 - sec_monitor - INFO - Filing analyzer initialized
2025-08-20 13:32:29,456 - sec_monitor - INFO - Alpaca clients initialized
2025-08-20 13:32:29,456 - sec_monitor - INFO - All components initialized successfully
2025-08-20 13:32:29,457 - sec_monitor - INFO - Found JSON file from today
2025-08-20 13:32:29,457 - sec_monitor - INFO - Found 12 previously processed accessions and 12 filing URLs
2025-08-20 13:32:29,457 - sec_monitor - INFO - Found 12 accession numbers and 12 URLs from previously processed filings
2025-08-20 13:32:29,458 - sec_monitor - INFO - Fetching SEC filings...
2025-08-20 13:32:45,008 - sec_monitor - INFO - No more entries found
2025-08-20 13:32:45,008 - sec_monitor - INFO - Completed fetching. Found 125 total filings
2025-08-20 13:32:45,008 - sec_monitor - INFO - Found 2 new interesting filings
2025-08-20 13:32:45,008 - sec_monitor - INFO - Found 2 new filings to process
2025-08-20 13:32:45,008 - sec_monitor - INFO - Processing filing 1/2: NCLH
2025-08-20 13:33:15,587 - sec_monitor - INFO - ==================================================
2025-08-20 13:33:15,587 - sec_monitor - INFO - Processing first chunk
2025-08-20 13:33:15,587 - sec_monitor - INFO - Timestamp: 2025-08-20 13:33:15
2025-08-20 13:33:15,682 - sec_monitor - INFO - token percentage = 2%
2025-08-20 13:33:15,682 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 13:33:15,683 - sec_monitor - INFO - Timestamp: 2025-08-20 13:33:15
2025-08-20 13:33:17,063 - sec_monitor - INFO - API call successful
2025-08-20 13:33:18,064 - sec_monitor - INFO - Processing filing 2/2: TJX
2025-08-20 13:33:48,683 - sec_monitor - INFO - ==================================================
2025-08-20 13:33:48,683 - sec_monitor - INFO - Processing first chunk
2025-08-20 13:33:48,683 - sec_monitor - INFO - Timestamp: 2025-08-20 13:33:48
2025-08-20 13:33:48,808 - sec_monitor - INFO - token percentage = 4%
2025-08-20 13:33:48,808 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-20 13:33:48,808 - sec_monitor - INFO - Timestamp: 2025-08-20 13:33:48
2025-08-20 13:33:55,338 - sec_monitor - INFO - API call successful
2025-08-20 13:33:56,340 - sec_monitor - INFO - Fetching supplementary data...
2025-08-20 13:33:56,429 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-08-20 13:33:56,429 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-08-20 13:33:56,429 - sec_monitor - INFO - Market open: True
2025-08-20 13:33:56,429 - sec_monitor - INFO - Number of filing times mapped: 2
2025-08-20 13:33:56,547 - sec_monitor - INFO - Last trading day: 2025-08-20
2025-08-20 13:33:56,547 - sec_monitor - INFO - Processing ticker: NCLH
2025-08-20 13:33:56,838 - sec_monitor - INFO - Number of bars for NCLH: 3
2025-08-20 13:33:56,838 - sec_monitor - INFO - Last bar close for NCLH: 24.44
2025-08-20 13:33:56,838 - sec_monitor - INFO - Market open price for NCLH: 24.44, change: -0.5695687550854233%
2025-08-20 13:33:56,838 - sec_monitor - INFO - Processing ticker: TJX
2025-08-20 13:33:56,851 - sec_monitor - INFO - Number of bars for TJX: 3
2025-08-20 13:33:56,851 - sec_monitor - INFO - Last bar close for TJX: 134.58
2025-08-20 13:33:56,851 - sec_monitor - INFO - Market open price for TJX: 134.58, change: 1.168953204284914%
2025-08-20 13:33:57,571 - sec_monitor - INFO - Generating final output...
2025-08-20 13:33:57,572 - sec_monitor - INFO - Successfully merged 2 new filings with existing JSON
2025-08-20 13:33:57,572 - sec_monitor - INFO - Cumulative stats - Input words: 614202, Output words: 978
2025-08-20 13:33:57,572 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-08-20 13:33:57,573 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 11274, 'output_words': 145, 'filings_processed': 2}
2025-08-20 15:21:48,539 - sec_monitor - INFO - Starting SEC filing monitor 
2025-08-20 15:21:48,539 - sec_monitor - INFO - Loading S&P 500 data...
2025-08-20 15:21:48,540 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-08-20 15:21:48,540 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-08-20 15:21:48,540 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-08-20 15:21:48,540 - sec_monitor - INFO - Initializing components...
2025-08-20 15:21:48,540 - sec_monitor - INFO - Initializing components
2025-08-20 15:21:48,540 - sec_monitor - INFO - SEC fetcher initialized
2025-08-20 15:21:48,541 - sec_monitor - INFO - Filing analyzer initialized
2025-08-20 15:21:48,541 - sec_monitor - INFO - Alpaca clients initialized
2025-08-20 15:21:48,541 - sec_monitor - INFO - All components initialized successfully
2025-08-20 15:21:48,542 - sec_monitor - INFO - Found JSON file from today
2025-08-20 15:21:48,542 - sec_monitor - INFO - Found 14 previously processed accessions and 14 filing URLs
2025-08-20 15:21:48,542 - sec_monitor - INFO - Found 14 accession numbers and 14 URLs from previously processed filings
2025-08-20 15:21:48,542 - sec_monitor - INFO - Fetching SEC filings...
2025-08-20 15:22:05,685 - sec_monitor - INFO - No more entries found
2025-08-20 15:22:05,685 - sec_monitor - INFO - Completed fetching. Found 108 total filings
2025-08-20 15:22:05,685 - sec_monitor - INFO - Found 0 new interesting filings
2025-08-20 15:22:05,685 - sec_monitor - INFO - No new filings to process
