2025-09-25 11:10:15,951 - sec_monitor - INFO - Starting SEC filing monitor 
2025-09-25 11:10:15,951 - sec_monitor - INFO - Loading S&P 500 data...
2025-09-25 11:10:15,951 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-09-25 11:10:15,952 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-09-25 11:10:15,952 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-09-25 11:10:15,952 - sec_monitor - INFO - Initializing components...
2025-09-25 11:10:15,952 - sec_monitor - INFO - Initializing components
2025-09-25 11:10:15,952 - sec_monitor - INFO - SEC fetcher initialized
2025-09-25 11:10:15,952 - sec_monitor - INFO - Filing analyzer initialized
2025-09-25 11:10:15,952 - sec_monitor - INFO - Alpaca clients initialized
2025-09-25 11:10:15,952 - sec_monitor - INFO - All components initialized successfully
2025-09-25 11:10:15,953 - sec_monitor - INFO - Found old JSON file, archiving
2025-09-25 11:10:15,954 - sec_monitor - INFO - Starting new filing collection for today
2025-09-25 11:10:15,954 - sec_monitor - INFO - Fetching SEC filings...
2025-09-25 11:10:29,838 - sec_monitor - INFO - No more entries found
2025-09-25 11:10:29,838 - sec_monitor - INFO - Completed fetching. Found 63 total filings
2025-09-25 11:10:29,838 - sec_monitor - INFO - Found 8 new interesting filings
2025-09-25 11:10:29,838 - sec_monitor - INFO - Found 8 new filings to process
2025-09-25 11:10:29,839 - sec_monitor - INFO - Processing filing 1/8: KMX
2025-09-25 11:11:00,736 - sec_monitor - INFO - ==================================================
2025-09-25 11:11:00,736 - sec_monitor - INFO - Processing first chunk
2025-09-25 11:11:00,736 - sec_monitor - INFO - Timestamp: 2025-09-25 11:11:00
2025-09-25 11:11:00,835 - sec_monitor - INFO - token percentage = 5%
2025-09-25 11:11:00,835 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-25 11:11:00,835 - sec_monitor - INFO - Timestamp: 2025-09-25 11:11:00
2025-09-25 11:11:07,601 - sec_monitor - INFO - API call successful
2025-09-25 11:11:08,602 - sec_monitor - INFO - Processing filing 2/8: SBUX
2025-09-25 11:11:45,891 - sec_monitor - INFO - ==================================================
2025-09-25 11:11:45,892 - sec_monitor - INFO - Processing first chunk
2025-09-25 11:11:45,892 - sec_monitor - INFO - Timestamp: 2025-09-25 11:11:45
2025-09-25 11:11:46,184 - sec_monitor - INFO - token percentage = 49%
2025-09-25 11:11:46,184 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-25 11:11:46,185 - sec_monitor - INFO - Timestamp: 2025-09-25 11:11:46
2025-09-25 11:12:03,085 - sec_monitor - INFO - API call successful
2025-09-25 11:12:33,115 - sec_monitor - INFO - ==================================================
2025-09-25 11:12:33,116 - sec_monitor - INFO - Processing last chunk
2025-09-25 11:12:33,116 - sec_monitor - INFO - Timestamp: 2025-09-25 11:12:33
2025-09-25 11:12:33,313 - sec_monitor - INFO - token percentage = 37%
2025-09-25 11:12:33,314 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-25 11:12:33,314 - sec_monitor - INFO - Timestamp: 2025-09-25 11:12:33
2025-09-25 11:12:33,432 - sec_monitor - ERROR - API call failed - Attempt 1
2025-09-25 11:12:33,432 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.
* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 250000
Please retry in 26.586155512s. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 26
}
]
2025-09-25 11:12:33,432 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-09-25 11:15:33,477 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-09-25 11:15:33,477 - sec_monitor - INFO - Timestamp: 2025-09-25 11:15:33
2025-09-25 11:15:56,304 - sec_monitor - INFO - API call successful
2025-09-25 11:15:56,304 - sec_monitor - INFO - Making combine API call - Attempt 1/3
2025-09-25 11:15:56,304 - sec_monitor - INFO - Timestamp: 2025-09-25 11:15:56
2025-09-25 11:16:01,881 - sec_monitor - INFO - Combine API call successful
2025-09-25 11:16:02,882 - sec_monitor - INFO - Processing filing 3/8: ACN
2025-09-25 11:16:34,820 - sec_monitor - INFO - ==================================================
2025-09-25 11:16:34,821 - sec_monitor - INFO - Processing first chunk
2025-09-25 11:16:34,821 - sec_monitor - INFO - Timestamp: 2025-09-25 11:16:34
2025-09-25 11:16:35,003 - sec_monitor - INFO - token percentage = 17%
2025-09-25 11:16:35,003 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-25 11:16:35,003 - sec_monitor - INFO - Timestamp: 2025-09-25 11:16:35
2025-09-25 11:16:46,889 - sec_monitor - INFO - API call successful
2025-09-25 11:16:47,891 - sec_monitor - INFO - Processing filing 4/8: NWS
2025-09-25 11:17:18,740 - sec_monitor - INFO - ==================================================
2025-09-25 11:17:18,740 - sec_monitor - INFO - Processing first chunk
2025-09-25 11:17:18,740 - sec_monitor - INFO - Timestamp: 2025-09-25 11:17:18
2025-09-25 11:17:18,879 - sec_monitor - INFO - token percentage = 6%
2025-09-25 11:17:18,879 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-25 11:17:18,879 - sec_monitor - INFO - Timestamp: 2025-09-25 11:17:18
2025-09-25 11:17:22,605 - sec_monitor - INFO - API call successful
2025-09-25 11:17:23,606 - sec_monitor - INFO - Processing filing 5/8: NRG
2025-09-25 11:17:54,077 - sec_monitor - INFO - ==================================================
2025-09-25 11:17:54,077 - sec_monitor - INFO - Processing first chunk
2025-09-25 11:17:54,077 - sec_monitor - INFO - Timestamp: 2025-09-25 11:17:54
2025-09-25 11:17:54,177 - sec_monitor - INFO - token percentage = 4%
2025-09-25 11:17:54,177 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-25 11:17:54,177 - sec_monitor - INFO - Timestamp: 2025-09-25 11:17:54
2025-09-25 11:17:59,245 - sec_monitor - INFO - API call successful
2025-09-25 11:18:00,246 - sec_monitor - INFO - Processing filing 6/8: EG
2025-09-25 11:18:30,904 - sec_monitor - INFO - ==================================================
2025-09-25 11:18:30,905 - sec_monitor - INFO - Processing first chunk
2025-09-25 11:18:30,905 - sec_monitor - INFO - Timestamp: 2025-09-25 11:18:30
2025-09-25 11:18:31,009 - sec_monitor - INFO - token percentage = 7%
2025-09-25 11:18:31,009 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-25 11:18:31,009 - sec_monitor - INFO - Timestamp: 2025-09-25 11:18:31
2025-09-25 11:18:37,486 - sec_monitor - INFO - API call successful
2025-09-25 11:18:38,487 - sec_monitor - INFO - Processing filing 7/8: BX
2025-09-25 11:19:08,819 - sec_monitor - INFO - ==================================================
2025-09-25 11:19:08,819 - sec_monitor - INFO - Processing first chunk
2025-09-25 11:19:08,819 - sec_monitor - INFO - Timestamp: 2025-09-25 11:19:08
2025-09-25 11:19:08,909 - sec_monitor - INFO - token percentage = 2%
2025-09-25 11:19:08,909 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-25 11:19:08,909 - sec_monitor - INFO - Timestamp: 2025-09-25 11:19:08
2025-09-25 11:19:12,563 - sec_monitor - INFO - API call successful
2025-09-25 11:19:13,565 - sec_monitor - INFO - Processing filing 8/8: AMT
2025-09-25 11:19:44,227 - sec_monitor - INFO - ==================================================
2025-09-25 11:19:44,228 - sec_monitor - INFO - Processing first chunk
2025-09-25 11:19:44,228 - sec_monitor - INFO - Timestamp: 2025-09-25 11:19:44
2025-09-25 11:19:44,319 - sec_monitor - INFO - token percentage = 4%
2025-09-25 11:19:44,319 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-25 11:19:44,319 - sec_monitor - INFO - Timestamp: 2025-09-25 11:19:44
2025-09-25 11:19:49,471 - sec_monitor - INFO - API call successful
2025-09-25 11:19:50,473 - sec_monitor - INFO - Fetching supplementary data...
2025-09-25 11:19:50,840 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-09-25 11:19:50,840 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-09-25 11:19:50,840 - sec_monitor - INFO - Market open: False
2025-09-25 11:19:50,841 - sec_monitor - INFO - Number of filing times mapped: 8
2025-09-25 11:19:50,862 - sec_monitor - INFO - Last trading day: 2025-09-25
2025-09-25 11:19:50,862 - sec_monitor - INFO - Processing ticker: KMX
2025-09-25 11:19:51,065 - sec_monitor - INFO - Number of bars for KMX: 3
2025-09-25 11:19:51,065 - sec_monitor - INFO - Last bar close for KMX: 56.94
2025-09-25 11:19:51,065 - sec_monitor - INFO - Outside market hours price for KMX: 56.94
2025-09-25 11:19:51,065 - sec_monitor - INFO - Processing ticker: SBUX
2025-09-25 11:19:51,095 - sec_monitor - INFO - Number of bars for SBUX: 3
2025-09-25 11:19:51,095 - sec_monitor - INFO - Last bar close for SBUX: 84.23
2025-09-25 11:19:51,095 - sec_monitor - INFO - Outside market hours price for SBUX: 84.23
2025-09-25 11:19:51,095 - sec_monitor - INFO - Processing ticker: ACN
2025-09-25 11:19:51,125 - sec_monitor - INFO - Number of bars for ACN: 3
2025-09-25 11:19:51,125 - sec_monitor - INFO - Last bar close for ACN: 239.14
2025-09-25 11:19:51,126 - sec_monitor - INFO - Outside market hours price for ACN: 239.14
2025-09-25 11:19:51,126 - sec_monitor - INFO - Processing ticker: NWS
2025-09-25 11:19:51,155 - sec_monitor - INFO - Number of bars for NWS: 4
2025-09-25 11:19:51,155 - sec_monitor - INFO - Last bar close for NWS: 33.595
2025-09-25 11:19:51,156 - sec_monitor - INFO - Outside market hours price for NWS: 33.595
2025-09-25 11:19:51,156 - sec_monitor - INFO - Processing ticker: NRG
2025-09-25 11:19:51,186 - sec_monitor - INFO - Number of bars for NRG: 4
2025-09-25 11:19:51,186 - sec_monitor - INFO - Last bar close for NRG: 165.63
2025-09-25 11:19:51,186 - sec_monitor - INFO - Outside market hours price for NRG: 165.63
2025-09-25 11:19:51,186 - sec_monitor - INFO - Processing ticker: EG
2025-09-25 11:19:51,217 - sec_monitor - INFO - Number of bars for EG: 4
2025-09-25 11:19:51,217 - sec_monitor - INFO - Last bar close for EG: 345.53
2025-09-25 11:19:51,217 - sec_monitor - INFO - Outside market hours price for EG: 345.53
2025-09-25 11:19:51,217 - sec_monitor - INFO - Processing ticker: BX
2025-09-25 11:19:51,245 - sec_monitor - INFO - Number of bars for BX: 4
2025-09-25 11:19:51,245 - sec_monitor - INFO - Last bar close for BX: 178.19
2025-09-25 11:19:51,246 - sec_monitor - INFO - Outside market hours price for BX: 178.19
2025-09-25 11:19:51,246 - sec_monitor - INFO - Processing ticker: AMT
2025-09-25 11:19:51,273 - sec_monitor - INFO - Number of bars for AMT: 4
2025-09-25 11:19:51,273 - sec_monitor - INFO - Last bar close for AMT: 192.84
2025-09-25 11:19:51,273 - sec_monitor - INFO - Outside market hours price for AMT: 192.84
2025-09-25 11:19:53,768 - sec_monitor - INFO - Generating final output...
2025-09-25 11:19:53,769 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-09-25 11:19:53,769 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 98042, 'output_words': 669, 'filings_processed': 8}
