2025-09-15 11:09:20,676 - sec_monitor - INFO - Starting SEC filing monitor 
2025-09-15 11:09:20,676 - sec_monitor - INFO - Loading S&P 500 data...
2025-09-15 11:09:20,676 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-09-15 11:09:20,676 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-09-15 11:09:20,677 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-09-15 11:09:20,677 - sec_monitor - INFO - Initializing components...
2025-09-15 11:09:20,677 - sec_monitor - INFO - Initializing components
2025-09-15 11:09:20,677 - sec_monitor - INFO - SEC fetcher initialized
2025-09-15 11:09:20,677 - sec_monitor - INFO - Filing analyzer initialized
2025-09-15 11:09:20,677 - sec_monitor - INFO - Alpaca clients initialized
2025-09-15 11:09:20,677 - sec_monitor - INFO - All components initialized successfully
2025-09-15 11:09:20,678 - sec_monitor - INFO - Found old JSON file, archiving
2025-09-15 11:09:20,678 - sec_monitor - INFO - Starting new filing collection for today
2025-09-15 11:09:20,678 - sec_monitor - INFO - Fetching SEC filings...
2025-09-15 11:09:21,460 - sec_monitor - INFO - Reached old filing, stopping. Found 4 total filings
2025-09-15 11:09:21,461 - sec_monitor - INFO - Found 2 new interesting filings
2025-09-15 11:09:21,461 - sec_monitor - INFO - Found 2 new filings to process
2025-09-15 11:09:21,461 - sec_monitor - INFO - Processing filing 1/2: EIX
2025-09-15 11:09:58,291 - sec_monitor - INFO - ==================================================
2025-09-15 11:09:58,291 - sec_monitor - INFO - Processing first chunk
2025-09-15 11:09:58,291 - sec_monitor - INFO - Timestamp: 2025-09-15 11:09:58
2025-09-15 11:09:58,490 - sec_monitor - INFO - token percentage = 51%
2025-09-15 11:09:58,491 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-15 11:09:58,491 - sec_monitor - INFO - Timestamp: 2025-09-15 11:09:58
2025-09-15 11:10:26,354 - sec_monitor - INFO - API call successful
2025-09-15 11:10:56,384 - sec_monitor - INFO - ==================================================
2025-09-15 11:10:56,385 - sec_monitor - INFO - Processing last chunk
2025-09-15 11:10:56,385 - sec_monitor - INFO - Timestamp: 2025-09-15 11:10:56
2025-09-15 11:10:56,554 - sec_monitor - INFO - token percentage = 22%
2025-09-15 11:10:56,554 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-15 11:10:56,554 - sec_monitor - INFO - Timestamp: 2025-09-15 11:10:56
2025-09-15 11:10:56,660 - sec_monitor - ERROR - API call failed - Attempt 1
2025-09-15 11:10:56,660 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 3
}
]
2025-09-15 11:10:56,660 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-09-15 11:13:56,759 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-09-15 11:13:56,759 - sec_monitor - INFO - Timestamp: 2025-09-15 11:13:56
2025-09-15 11:14:13,194 - sec_monitor - INFO - API call successful
2025-09-15 11:14:13,195 - sec_monitor - INFO - Making combine API call - Attempt 1/3
2025-09-15 11:14:13,195 - sec_monitor - INFO - Timestamp: 2025-09-15 11:14:13
2025-09-15 11:14:14,278 - sec_monitor - INFO - Combine API call successful
2025-09-15 11:14:15,279 - sec_monitor - INFO - Processing filing 2/2: INTC
2025-09-15 11:14:45,744 - sec_monitor - INFO - ==================================================
2025-09-15 11:14:45,744 - sec_monitor - INFO - Processing first chunk
2025-09-15 11:14:45,744 - sec_monitor - INFO - Timestamp: 2025-09-15 11:14:45
2025-09-15 11:14:45,833 - sec_monitor - INFO - token percentage = 3%
2025-09-15 11:14:45,834 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-15 11:14:45,834 - sec_monitor - INFO - Timestamp: 2025-09-15 11:14:45
2025-09-15 11:14:51,810 - sec_monitor - INFO - API call successful
2025-09-15 11:14:52,811 - sec_monitor - INFO - Fetching supplementary data...
2025-09-15 11:14:53,033 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-09-15 11:14:53,034 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-09-15 11:14:53,034 - sec_monitor - INFO - Market open: False
2025-09-15 11:14:53,034 - sec_monitor - INFO - Number of filing times mapped: 2
2025-09-15 11:14:53,118 - sec_monitor - INFO - Last trading day: 2025-09-15
2025-09-15 11:14:53,118 - sec_monitor - INFO - Processing ticker: EIX
2025-09-15 11:14:53,631 - sec_monitor - INFO - Number of bars for EIX: 3
2025-09-15 11:14:53,631 - sec_monitor - INFO - Last bar close for EIX: 56.19
2025-09-15 11:14:53,632 - sec_monitor - INFO - Outside market hours price for EIX: 56.19
2025-09-15 11:14:53,632 - sec_monitor - INFO - Processing ticker: INTC
2025-09-15 11:14:53,662 - sec_monitor - INFO - Number of bars for INTC: 3
2025-09-15 11:14:53,662 - sec_monitor - INFO - Last bar close for INTC: 24.06
2025-09-15 11:14:53,663 - sec_monitor - INFO - Outside market hours price for INTC: 24.06
2025-09-15 11:14:54,483 - sec_monitor - INFO - Generating final output...
2025-09-15 11:14:54,484 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-09-15 11:14:54,484 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 38962, 'output_words': 169, 'filings_processed': 2}
2025-09-15 12:41:01,014 - sec_monitor - INFO - Starting SEC filing monitor 
2025-09-15 12:41:01,014 - sec_monitor - INFO - Loading S&P 500 data...
2025-09-15 12:41:01,014 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-09-15 12:41:01,015 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-09-15 12:41:01,015 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-09-15 12:41:01,015 - sec_monitor - INFO - Initializing components...
2025-09-15 12:41:01,015 - sec_monitor - INFO - Initializing components
2025-09-15 12:41:01,015 - sec_monitor - INFO - SEC fetcher initialized
2025-09-15 12:41:01,015 - sec_monitor - INFO - Filing analyzer initialized
2025-09-15 12:41:01,016 - sec_monitor - INFO - Alpaca clients initialized
2025-09-15 12:41:01,016 - sec_monitor - INFO - All components initialized successfully
2025-09-15 12:41:01,017 - sec_monitor - INFO - Found JSON file from today
2025-09-15 12:41:01,017 - sec_monitor - INFO - Found 2 previously processed accessions and 2 filing URLs
2025-09-15 12:41:01,017 - sec_monitor - INFO - Found 2 accession numbers and 2 URLs from previously processed filings
2025-09-15 12:41:01,017 - sec_monitor - INFO - Fetching SEC filings...
2025-09-15 12:41:03,126 - sec_monitor - INFO - Reached old filing, stopping. Found 5 total filings
2025-09-15 12:41:03,126 - sec_monitor - INFO - Found 1 new interesting filings
2025-09-15 12:41:03,126 - sec_monitor - INFO - Found 1 new filings to process
2025-09-15 12:41:03,126 - sec_monitor - INFO - Processing filing 1/1: AMAT
2025-09-15 12:41:33,468 - sec_monitor - INFO - ==================================================
2025-09-15 12:41:33,468 - sec_monitor - INFO - Processing first chunk
2025-09-15 12:41:33,468 - sec_monitor - INFO - Timestamp: 2025-09-15 12:41:33
2025-09-15 12:41:33,555 - sec_monitor - INFO - token percentage = 2%
2025-09-15 12:41:33,555 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-09-15 12:41:33,555 - sec_monitor - INFO - Timestamp: 2025-09-15 12:41:33
2025-09-15 12:42:37,596 - sec_monitor - INFO - API call successful
2025-09-15 12:42:38,597 - sec_monitor - INFO - Fetching supplementary data...
2025-09-15 12:42:38,958 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-09-15 12:42:38,958 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-09-15 12:42:38,958 - sec_monitor - INFO - Market open: False
2025-09-15 12:42:38,958 - sec_monitor - INFO - Number of filing times mapped: 1
2025-09-15 12:42:39,015 - sec_monitor - INFO - Last trading day: 2025-09-15
2025-09-15 12:42:39,015 - sec_monitor - INFO - Processing ticker: AMAT
2025-09-15 12:42:39,190 - sec_monitor - INFO - Number of bars for AMAT: 3
2025-09-15 12:42:39,190 - sec_monitor - INFO - Last bar close for AMAT: 167.77
2025-09-15 12:42:39,190 - sec_monitor - INFO - Outside market hours price for AMAT: 167.77
2025-09-15 12:42:39,670 - sec_monitor - INFO - Generating final output...
2025-09-15 12:42:39,713 - sec_monitor - INFO - Successfully merged 1 new filings with existing JSON
2025-09-15 12:42:39,714 - sec_monitor - INFO - Cumulative stats - Input words: 42122, Output words: 232
2025-09-15 12:42:39,714 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-09-15 12:42:39,714 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 3160, 'output_words': 63, 'filings_processed': 1}
2025-09-15 13:28:58,365 - sec_monitor - INFO - Starting SEC filing monitor 
2025-09-15 13:28:58,365 - sec_monitor - INFO - Loading S&P 500 data...
2025-09-15 13:28:58,365 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-09-15 13:28:58,365 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-09-15 13:28:58,365 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-09-15 13:28:58,366 - sec_monitor - INFO - Initializing components...
2025-09-15 13:28:58,366 - sec_monitor - INFO - Initializing components
2025-09-15 13:28:58,366 - sec_monitor - INFO - SEC fetcher initialized
2025-09-15 13:28:58,366 - sec_monitor - INFO - Filing analyzer initialized
2025-09-15 13:28:58,366 - sec_monitor - INFO - Alpaca clients initialized
2025-09-15 13:28:58,366 - sec_monitor - INFO - All components initialized successfully
2025-09-15 13:28:58,367 - sec_monitor - INFO - Found JSON file from today
2025-09-15 13:28:58,367 - sec_monitor - INFO - Found 3 previously processed accessions and 3 filing URLs
2025-09-15 13:28:58,367 - sec_monitor - INFO - Found 3 accession numbers and 3 URLs from previously processed filings
2025-09-15 13:28:58,367 - sec_monitor - INFO - Fetching SEC filings...
2025-09-15 13:29:00,640 - sec_monitor - INFO - Reached old filing, stopping. Found 6 total filings
2025-09-15 13:29:00,640 - sec_monitor - INFO - Found 0 new interesting filings
2025-09-15 13:29:00,640 - sec_monitor - INFO - No new filings to process
