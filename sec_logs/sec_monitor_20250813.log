2025-08-13 11:10:58,415 - sec_monitor - INFO - Starting SEC filing monitor 
2025-08-13 11:10:58,415 - sec_monitor - INFO - Loading S&P 500 data...
2025-08-13 11:10:58,415 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-08-13 11:10:58,416 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-08-13 11:10:58,416 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-08-13 11:10:58,416 - sec_monitor - INFO - Initializing components...
2025-08-13 11:10:58,416 - sec_monitor - INFO - Initializing components
2025-08-13 11:10:58,416 - sec_monitor - INFO - SEC fetcher initialized
2025-08-13 11:10:58,416 - sec_monitor - INFO - Filing analyzer initialized
2025-08-13 11:10:58,416 - sec_monitor - INFO - Alpaca clients initialized
2025-08-13 11:10:58,416 - sec_monitor - INFO - All components initialized successfully
2025-08-13 11:10:58,417 - sec_monitor - INFO - Found old JSON file, archiving
2025-08-13 11:10:58,418 - sec_monitor - INFO - Starting new filing collection for today
2025-08-13 11:10:58,418 - sec_monitor - INFO - Fetching SEC filings...
2025-08-13 11:11:13,503 - sec_monitor - INFO - No more entries found
2025-08-13 11:11:13,503 - sec_monitor - INFO - Completed fetching. Found 100 total filings
2025-08-13 11:11:13,503 - sec_monitor - INFO - Found 4 new interesting filings
2025-08-13 11:11:13,503 - sec_monitor - INFO - Found 4 new filings to process
2025-08-13 11:11:13,503 - sec_monitor - INFO - Processing filing 1/4: DPZ
2025-08-13 11:11:44,631 - sec_monitor - INFO - ==================================================
2025-08-13 11:11:44,631 - sec_monitor - INFO - Processing first chunk
2025-08-13 11:11:44,631 - sec_monitor - INFO - Timestamp: 2025-08-13 11:11:44
2025-08-13 11:11:44,910 - sec_monitor - INFO - token percentage = 9%
2025-08-13 11:11:44,910 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-13 11:11:44,910 - sec_monitor - INFO - Timestamp: 2025-08-13 11:11:44
2025-08-13 11:11:53,312 - sec_monitor - INFO - API call successful
2025-08-13 11:11:54,314 - sec_monitor - INFO - Processing filing 2/4: WYNN
2025-08-13 11:12:45,844 - sec_monitor - INFO - ==================================================
2025-08-13 11:12:45,844 - sec_monitor - INFO - Processing first chunk
2025-08-13 11:12:45,844 - sec_monitor - INFO - Timestamp: 2025-08-13 11:12:45
2025-08-13 11:12:46,225 - sec_monitor - INFO - token percentage = 49%
2025-08-13 11:12:46,225 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-13 11:12:46,226 - sec_monitor - INFO - Timestamp: 2025-08-13 11:12:46
2025-08-13 11:13:03,822 - sec_monitor - INFO - API call successful
2025-08-13 11:13:33,852 - sec_monitor - INFO - ==================================================
2025-08-13 11:13:33,853 - sec_monitor - INFO - Processing middle chunk
2025-08-13 11:13:33,853 - sec_monitor - INFO - Timestamp: 2025-08-13 11:13:33
2025-08-13 11:13:34,229 - sec_monitor - INFO - token percentage = 51%
2025-08-13 11:13:34,229 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-13 11:13:34,229 - sec_monitor - INFO - Timestamp: 2025-08-13 11:13:34
2025-08-13 11:13:34,491 - sec_monitor - ERROR - API call failed - Attempt 1
2025-08-13 11:13:34,491 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 25
}
]
2025-08-13 11:13:34,491 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-08-13 11:16:34,591 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-08-13 11:16:34,591 - sec_monitor - INFO - Timestamp: 2025-08-13 11:16:34
2025-08-13 11:16:52,547 - sec_monitor - INFO - API call successful
2025-08-13 11:17:22,559 - sec_monitor - INFO - ==================================================
2025-08-13 11:17:22,559 - sec_monitor - INFO - Processing middle chunk
2025-08-13 11:17:22,559 - sec_monitor - INFO - Timestamp: 2025-08-13 11:17:22
2025-08-13 11:17:22,941 - sec_monitor - INFO - token percentage = 50%
2025-08-13 11:17:22,941 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-13 11:17:22,941 - sec_monitor - INFO - Timestamp: 2025-08-13 11:17:22
2025-08-13 11:17:23,211 - sec_monitor - ERROR - API call failed - Attempt 1
2025-08-13 11:17:23,211 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 36
}
]
2025-08-13 11:17:23,212 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-08-13 11:20:23,312 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-08-13 11:20:23,312 - sec_monitor - INFO - Timestamp: 2025-08-13 11:20:23
2025-08-13 11:20:42,391 - sec_monitor - INFO - API call successful
2025-08-13 11:21:12,399 - sec_monitor - INFO - ==================================================
2025-08-13 11:21:12,399 - sec_monitor - INFO - Processing last chunk
2025-08-13 11:21:12,400 - sec_monitor - INFO - Timestamp: 2025-08-13 11:21:12
2025-08-13 11:21:12,547 - sec_monitor - INFO - token percentage = 5%
2025-08-13 11:21:12,547 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-13 11:21:12,548 - sec_monitor - INFO - Timestamp: 2025-08-13 11:21:12
2025-08-13 11:21:15,801 - sec_monitor - INFO - API call successful
2025-08-13 11:21:15,801 - sec_monitor - INFO - Making combine API call - Attempt 1/3
2025-08-13 11:21:15,801 - sec_monitor - INFO - Timestamp: 2025-08-13 11:21:15
2025-08-13 11:21:16,615 - sec_monitor - INFO - Combine API call successful
2025-08-13 11:21:17,617 - sec_monitor - INFO - Processing filing 3/4: FI
2025-08-13 11:21:50,128 - sec_monitor - INFO - ==================================================
2025-08-13 11:21:50,128 - sec_monitor - INFO - Processing first chunk
2025-08-13 11:21:50,128 - sec_monitor - INFO - Timestamp: 2025-08-13 11:21:50
2025-08-13 11:21:50,603 - sec_monitor - INFO - token percentage = 26%
2025-08-13 11:21:50,603 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-13 11:21:50,603 - sec_monitor - INFO - Timestamp: 2025-08-13 11:21:50
2025-08-13 11:22:00,360 - sec_monitor - INFO - API call successful
2025-08-13 11:22:01,362 - sec_monitor - INFO - Processing filing 4/4: CBRE
2025-08-13 11:22:31,790 - sec_monitor - INFO - ==================================================
2025-08-13 11:22:31,790 - sec_monitor - INFO - Processing first chunk
2025-08-13 11:22:31,790 - sec_monitor - INFO - Timestamp: 2025-08-13 11:22:31
2025-08-13 11:22:31,920 - sec_monitor - INFO - token percentage = 2%
2025-08-13 11:22:31,920 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-08-13 11:22:31,920 - sec_monitor - INFO - Timestamp: 2025-08-13 11:22:31
2025-08-13 11:22:32,089 - sec_monitor - ERROR - API call failed - Attempt 1
2025-08-13 11:22:32,089 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 27
}
]
2025-08-13 11:22:32,089 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-08-13 11:25:32,135 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-08-13 11:25:32,135 - sec_monitor - INFO - Timestamp: 2025-08-13 11:25:32
2025-08-13 11:25:36,042 - sec_monitor - INFO - API call successful
2025-08-13 11:25:37,043 - sec_monitor - INFO - Fetching supplementary data...
2025-08-13 11:25:37,546 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-08-13 11:25:37,546 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-08-13 11:25:37,546 - sec_monitor - INFO - Market open: False
2025-08-13 11:25:37,546 - sec_monitor - INFO - Number of filing times mapped: 4
2025-08-13 11:25:37,608 - sec_monitor - INFO - Last trading day: 2025-08-13
2025-08-13 11:25:37,608 - sec_monitor - INFO - Processing ticker: DPZ
2025-08-13 11:25:38,221 - sec_monitor - INFO - Number of bars for DPZ: 3
2025-08-13 11:25:38,221 - sec_monitor - INFO - Last bar close for DPZ: 441.505
2025-08-13 11:25:38,221 - sec_monitor - INFO - Outside market hours price for DPZ: 441.505
2025-08-13 11:25:38,221 - sec_monitor - INFO - Processing ticker: WYNN
2025-08-13 11:25:38,287 - sec_monitor - INFO - Number of bars for WYNN: 4
2025-08-13 11:25:38,287 - sec_monitor - INFO - Last bar close for WYNN: 112.52
2025-08-13 11:25:38,287 - sec_monitor - INFO - Outside market hours price for WYNN: 112.52
2025-08-13 11:25:38,287 - sec_monitor - INFO - Processing ticker: FI
2025-08-13 11:25:38,355 - sec_monitor - INFO - Number of bars for FI: 4
2025-08-13 11:25:38,355 - sec_monitor - INFO - Last bar close for FI: 132.29
2025-08-13 11:25:38,356 - sec_monitor - INFO - Outside market hours price for FI: 132.29
2025-08-13 11:25:38,356 - sec_monitor - INFO - Processing ticker: CBRE
2025-08-13 11:25:38,422 - sec_monitor - INFO - Number of bars for CBRE: 4
2025-08-13 11:25:38,423 - sec_monitor - INFO - Last bar close for CBRE: 156.08
2025-08-13 11:25:38,423 - sec_monitor - INFO - Outside market hours price for CBRE: 156.08
2025-08-13 11:25:39,793 - sec_monitor - INFO - Generating final output...
2025-08-13 11:25:39,793 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-08-13 11:25:39,793 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 223931, 'output_words': 253, 'filings_processed': 4}
