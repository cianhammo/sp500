2025-05-12 11:10:18,867 - sec_monitor - INFO - Starting SEC filing monitor 
2025-05-12 11:10:18,868 - sec_monitor - INFO - Loading S&P 500 data...
2025-05-12 11:10:18,868 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-05-12 11:10:18,868 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-05-12 11:10:18,868 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-05-12 11:10:18,868 - sec_monitor - INFO - Initializing components...
2025-05-12 11:10:18,868 - sec_monitor - INFO - Initializing components
2025-05-12 11:10:18,868 - sec_monitor - INFO - SEC fetcher initialized
2025-05-12 11:10:18,869 - sec_monitor - INFO - Filing analyzer initialized
2025-05-12 11:10:18,869 - sec_monitor - INFO - Alpaca clients initialized
2025-05-12 11:10:18,869 - sec_monitor - INFO - All components initialized successfully
2025-05-12 11:10:18,870 - sec_monitor - INFO - Found old JSON file, archiving
2025-05-12 11:10:18,870 - sec_monitor - INFO - Starting new filing collection for today
2025-05-12 11:10:18,870 - sec_monitor - INFO - Fetching SEC filings...
2025-05-12 11:10:20,754 - sec_monitor - INFO - Reached old filing, stopping. Found 5 total filings
2025-05-12 11:10:20,754 - sec_monitor - INFO - Found 3 new interesting filings
2025-05-12 11:10:20,754 - sec_monitor - INFO - Found 3 new filings to process
2025-05-12 11:10:20,755 - sec_monitor - INFO - Processing filing 1/3: NRG
2025-05-12 11:10:51,516 - sec_monitor - INFO - ==================================================
2025-05-12 11:10:51,517 - sec_monitor - INFO - Processing first chunk
2025-05-12 11:10:51,517 - sec_monitor - INFO - Timestamp: 2025-05-12 11:10:51
2025-05-12 11:10:51,756 - sec_monitor - INFO - token percentage = 5%
2025-05-12 11:10:51,756 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-12 11:10:51,756 - sec_monitor - INFO - Timestamp: 2025-05-12 11:10:51
2025-05-12 11:10:55,083 - sec_monitor - INFO - API call successful
2025-05-12 11:10:56,085 - sec_monitor - INFO - Processing filing 2/3: IVZ
2025-05-12 11:11:26,649 - sec_monitor - INFO - ==================================================
2025-05-12 11:11:26,649 - sec_monitor - INFO - Processing first chunk
2025-05-12 11:11:26,649 - sec_monitor - INFO - Timestamp: 2025-05-12 11:11:26
2025-05-12 11:11:26,813 - sec_monitor - INFO - token percentage = 4%
2025-05-12 11:11:26,814 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-12 11:11:26,814 - sec_monitor - INFO - Timestamp: 2025-05-12 11:11:26
2025-05-12 11:11:30,130 - sec_monitor - INFO - API call successful
2025-05-12 11:11:31,131 - sec_monitor - INFO - Processing filing 3/3: AEE
2025-05-12 11:12:01,839 - sec_monitor - INFO - ==================================================
2025-05-12 11:12:01,839 - sec_monitor - INFO - Processing first chunk
2025-05-12 11:12:01,840 - sec_monitor - INFO - Timestamp: 2025-05-12 11:12:01
2025-05-12 11:12:02,019 - sec_monitor - INFO - token percentage = 4%
2025-05-12 11:12:02,019 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-12 11:12:02,019 - sec_monitor - INFO - Timestamp: 2025-05-12 11:12:02
2025-05-12 11:12:05,743 - sec_monitor - INFO - API call successful
2025-05-12 11:12:06,744 - sec_monitor - INFO - Fetching supplementary data...
2025-05-12 11:12:07,258 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-05-12 11:12:07,259 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-05-12 11:12:07,259 - sec_monitor - INFO - Market open: False
2025-05-12 11:12:07,259 - sec_monitor - INFO - Number of filing times mapped: 3
2025-05-12 11:12:07,304 - sec_monitor - INFO - Last trading day: 2025-05-12
2025-05-12 11:12:07,304 - sec_monitor - INFO - Processing ticker: NRG
2025-05-12 11:12:07,551 - sec_monitor - INFO - Number of bars for NRG: 3
2025-05-12 11:12:07,551 - sec_monitor - INFO - Last bar close for NRG: 119.335
2025-05-12 11:12:07,551 - sec_monitor - INFO - Outside market hours price for NRG: 119.335
2025-05-12 11:12:07,551 - sec_monitor - INFO - Processing ticker: IVZ
2025-05-12 11:12:07,600 - sec_monitor - INFO - Number of bars for IVZ: 3
2025-05-12 11:12:07,600 - sec_monitor - INFO - Last bar close for IVZ: 14.83
2025-05-12 11:12:07,600 - sec_monitor - INFO - Outside market hours price for IVZ: 14.83
2025-05-12 11:12:07,600 - sec_monitor - INFO - Processing ticker: AEE
2025-05-12 11:12:07,647 - sec_monitor - INFO - Number of bars for AEE: 3
2025-05-12 11:12:07,648 - sec_monitor - INFO - Last bar close for AEE: 97.425
2025-05-12 11:12:07,648 - sec_monitor - INFO - Outside market hours price for AEE: 97.425
2025-05-12 11:12:08,716 - sec_monitor - INFO - Generating final output...
2025-05-12 11:12:08,716 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-05-12 11:12:08,716 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 18563, 'output_words': 244, 'filings_processed': 3}
2025-05-12 12:42:04,099 - sec_monitor - INFO - Starting SEC filing monitor 
2025-05-12 12:42:04,099 - sec_monitor - INFO - Loading S&P 500 data...
2025-05-12 12:42:04,099 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-05-12 12:42:04,099 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-05-12 12:42:04,099 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-05-12 12:42:04,099 - sec_monitor - INFO - Initializing components...
2025-05-12 12:42:04,099 - sec_monitor - INFO - Initializing components
2025-05-12 12:42:04,100 - sec_monitor - INFO - SEC fetcher initialized
2025-05-12 12:42:04,100 - sec_monitor - INFO - Filing analyzer initialized
2025-05-12 12:42:04,100 - sec_monitor - INFO - Alpaca clients initialized
2025-05-12 12:42:04,100 - sec_monitor - INFO - All components initialized successfully
2025-05-12 12:42:04,101 - sec_monitor - INFO - Found JSON file from today
2025-05-12 12:42:04,101 - sec_monitor - INFO - Found 3 previously processed accessions and 3 filing URLs
2025-05-12 12:42:04,101 - sec_monitor - INFO - Found 3 accession numbers and 3 URLs from previously processed filings
2025-05-12 12:42:04,101 - sec_monitor - INFO - Fetching SEC filings...
2025-05-12 12:42:09,642 - sec_monitor - INFO - Reached old filing, stopping. Found 13 total filings
2025-05-12 12:42:09,642 - sec_monitor - INFO - Found 6 new interesting filings
2025-05-12 12:42:09,642 - sec_monitor - INFO - Found 6 new filings to process
2025-05-12 12:42:09,642 - sec_monitor - INFO - Processing filing 1/6: JCI
2025-05-12 12:42:40,633 - sec_monitor - INFO - ==================================================
2025-05-12 12:42:40,633 - sec_monitor - INFO - Processing first chunk
2025-05-12 12:42:40,634 - sec_monitor - INFO - Timestamp: 2025-05-12 12:42:40
2025-05-12 12:42:40,847 - sec_monitor - INFO - token percentage = 7%
2025-05-12 12:42:40,848 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-12 12:42:40,848 - sec_monitor - INFO - Timestamp: 2025-05-12 12:42:40
2025-05-12 12:42:44,893 - sec_monitor - INFO - API call successful
2025-05-12 12:42:45,895 - sec_monitor - INFO - Processing filing 2/6: TER
2025-05-12 12:43:16,449 - sec_monitor - INFO - ==================================================
2025-05-12 12:43:16,450 - sec_monitor - INFO - Processing first chunk
2025-05-12 12:43:16,450 - sec_monitor - INFO - Timestamp: 2025-05-12 12:43:16
2025-05-12 12:43:16,600 - sec_monitor - INFO - token percentage = 2%
2025-05-12 12:43:16,601 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-12 12:43:16,601 - sec_monitor - INFO - Timestamp: 2025-05-12 12:43:16
2025-05-12 12:43:18,402 - sec_monitor - INFO - API call successful
2025-05-12 12:43:19,404 - sec_monitor - INFO - Processing filing 3/6: CCL
2025-05-12 12:43:50,167 - sec_monitor - INFO - ==================================================
2025-05-12 12:43:50,168 - sec_monitor - INFO - Processing first chunk
2025-05-12 12:43:50,168 - sec_monitor - INFO - Timestamp: 2025-05-12 12:43:50
2025-05-12 12:43:50,372 - sec_monitor - INFO - token percentage = 5%
2025-05-12 12:43:50,372 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-12 12:43:50,372 - sec_monitor - INFO - Timestamp: 2025-05-12 12:43:50
2025-05-12 12:43:53,645 - sec_monitor - INFO - API call successful
2025-05-12 12:43:54,647 - sec_monitor - INFO - Processing filing 4/6: FOX
2025-05-12 12:44:26,528 - sec_monitor - INFO - ==================================================
2025-05-12 12:44:26,529 - sec_monitor - INFO - Processing first chunk
2025-05-12 12:44:26,529 - sec_monitor - INFO - Timestamp: 2025-05-12 12:44:26
2025-05-12 12:44:26,782 - sec_monitor - INFO - token percentage = 14%
2025-05-12 12:44:26,782 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-12 12:44:26,782 - sec_monitor - INFO - Timestamp: 2025-05-12 12:44:26
2025-05-12 12:44:33,274 - sec_monitor - INFO - API call successful
2025-05-12 12:44:34,275 - sec_monitor - INFO - Processing filing 5/6: STX
2025-05-12 12:45:04,951 - sec_monitor - INFO - ==================================================
2025-05-12 12:45:04,951 - sec_monitor - INFO - Processing first chunk
2025-05-12 12:45:04,952 - sec_monitor - INFO - Timestamp: 2025-05-12 12:45:04
2025-05-12 12:45:05,102 - sec_monitor - INFO - token percentage = 3%
2025-05-12 12:45:05,102 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-12 12:45:05,102 - sec_monitor - INFO - Timestamp: 2025-05-12 12:45:05
2025-05-12 12:45:07,080 - sec_monitor - INFO - API call successful
2025-05-12 12:45:08,081 - sec_monitor - INFO - Processing filing 6/6: NRG
2025-05-12 12:45:39,512 - sec_monitor - INFO - ==================================================
2025-05-12 12:45:39,513 - sec_monitor - INFO - Processing first chunk
2025-05-12 12:45:39,513 - sec_monitor - INFO - Timestamp: 2025-05-12 12:45:39
2025-05-12 12:45:39,736 - sec_monitor - INFO - token percentage = 8%
2025-05-12 12:45:39,736 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-12 12:45:39,736 - sec_monitor - INFO - Timestamp: 2025-05-12 12:45:39
2025-05-12 12:45:44,434 - sec_monitor - INFO - API call successful
2025-05-12 12:45:45,435 - sec_monitor - INFO - Fetching supplementary data...
2025-05-12 12:45:45,968 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-05-12 12:45:45,968 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-05-12 12:45:45,968 - sec_monitor - INFO - Market open: False
2025-05-12 12:45:45,969 - sec_monitor - INFO - Number of filing times mapped: 6
2025-05-12 12:45:46,014 - sec_monitor - INFO - Last trading day: 2025-05-12
2025-05-12 12:45:46,014 - sec_monitor - INFO - Processing ticker: JCI
2025-05-12 12:45:46,533 - sec_monitor - INFO - Number of bars for JCI: 3
2025-05-12 12:45:46,533 - sec_monitor - INFO - Last bar close for JCI: 91.91
2025-05-12 12:45:46,533 - sec_monitor - INFO - Outside market hours price for JCI: 91.91
2025-05-12 12:45:46,533 - sec_monitor - INFO - Processing ticker: TER
2025-05-12 12:45:46,586 - sec_monitor - INFO - Number of bars for TER: 3
2025-05-12 12:45:46,586 - sec_monitor - INFO - Last bar close for TER: 77.4
2025-05-12 12:45:46,586 - sec_monitor - INFO - Outside market hours price for TER: 77.4
2025-05-12 12:45:46,586 - sec_monitor - INFO - Processing ticker: CCL
2025-05-12 12:45:46,634 - sec_monitor - INFO - Number of bars for CCL: 3
2025-05-12 12:45:46,634 - sec_monitor - INFO - Last bar close for CCL: 20.18
2025-05-12 12:45:46,634 - sec_monitor - INFO - Outside market hours price for CCL: 20.18
2025-05-12 12:45:46,634 - sec_monitor - INFO - Processing ticker: FOX
2025-05-12 12:45:46,686 - sec_monitor - INFO - Number of bars for FOX: 3
2025-05-12 12:45:46,686 - sec_monitor - INFO - Last bar close for FOX: 46.73
2025-05-12 12:45:46,686 - sec_monitor - INFO - Outside market hours price for FOX: 46.73
2025-05-12 12:45:46,686 - sec_monitor - INFO - Processing ticker: STX
2025-05-12 12:45:46,735 - sec_monitor - INFO - Number of bars for STX: 3
2025-05-12 12:45:46,735 - sec_monitor - INFO - Last bar close for STX: 95.685
2025-05-12 12:45:46,735 - sec_monitor - INFO - Outside market hours price for STX: 95.685
2025-05-12 12:45:46,735 - sec_monitor - INFO - Processing ticker: NRG
2025-05-12 12:45:46,795 - sec_monitor - INFO - Number of bars for NRG: 3
2025-05-12 12:45:46,795 - sec_monitor - INFO - Last bar close for NRG: 119.335
2025-05-12 12:45:46,795 - sec_monitor - INFO - Outside market hours price for NRG: 119.335
2025-05-12 12:45:49,339 - sec_monitor - INFO - Generating final output...
2025-05-12 12:45:49,340 - sec_monitor - INFO - Successfully merged 6 new filings with existing JSON
2025-05-12 12:45:49,340 - sec_monitor - INFO - Cumulative stats - Input words: 65799, Output words: 787
2025-05-12 12:45:49,340 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-05-12 12:45:49,340 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 47236, 'output_words': 543, 'filings_processed': 6}
2025-05-12 13:33:54,719 - sec_monitor - INFO - Starting SEC filing monitor 
2025-05-12 13:33:54,720 - sec_monitor - INFO - Loading S&P 500 data...
2025-05-12 13:33:54,720 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-05-12 13:33:54,720 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-05-12 13:33:54,720 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-05-12 13:33:54,720 - sec_monitor - INFO - Initializing components...
2025-05-12 13:33:54,720 - sec_monitor - INFO - Initializing components
2025-05-12 13:33:54,720 - sec_monitor - INFO - SEC fetcher initialized
2025-05-12 13:33:54,721 - sec_monitor - INFO - Filing analyzer initialized
2025-05-12 13:33:54,721 - sec_monitor - INFO - Alpaca clients initialized
2025-05-12 13:33:54,721 - sec_monitor - INFO - All components initialized successfully
2025-05-12 13:33:54,722 - sec_monitor - INFO - Found JSON file from today
2025-05-12 13:33:54,722 - sec_monitor - INFO - Found 9 previously processed accessions and 9 filing URLs
2025-05-12 13:33:54,722 - sec_monitor - INFO - Found 9 accession numbers and 9 URLs from previously processed filings
2025-05-12 13:33:54,722 - sec_monitor - INFO - Fetching SEC filings...
2025-05-12 13:34:01,047 - sec_monitor - INFO - Reached old filing, stopping. Found 22 total filings
2025-05-12 13:34:01,048 - sec_monitor - INFO - Found 3 new interesting filings
2025-05-12 13:34:01,048 - sec_monitor - INFO - Found 3 new filings to process
2025-05-12 13:34:01,048 - sec_monitor - INFO - Processing filing 1/3: FOX
2025-05-12 13:34:43,900 - sec_monitor - INFO - ==================================================
2025-05-12 13:34:43,901 - sec_monitor - INFO - Processing first chunk
2025-05-12 13:34:43,901 - sec_monitor - INFO - Timestamp: 2025-05-12 13:34:43
2025-05-12 13:34:45,165 - sec_monitor - INFO - token percentage = 43%
2025-05-12 13:34:45,165 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-12 13:34:45,165 - sec_monitor - INFO - Timestamp: 2025-05-12 13:34:45
2025-05-12 13:34:46,133 - sec_monitor - ERROR - API call failed - Attempt 1
2025-05-12 13:34:46,133 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 14
}
]
2025-05-12 13:34:46,133 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-05-12 13:37:46,220 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-05-12 13:37:46,220 - sec_monitor - INFO - Timestamp: 2025-05-12 13:37:46
2025-05-12 13:37:47,163 - sec_monitor - ERROR - API call failed - Attempt 2
2025-05-12 13:37:47,163 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 13
}
]
2025-05-12 13:37:47,163 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-05-12 13:40:47,263 - sec_monitor - INFO - Making API call - Attempt 3/3
2025-05-12 13:40:47,263 - sec_monitor - INFO - Timestamp: 2025-05-12 13:40:47
2025-05-12 13:40:48,017 - sec_monitor - ERROR - API call failed - Attempt 3
2025-05-12 13:40:48,018 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 12
}
]
2025-05-12 13:40:48,018 - sec_monitor - ERROR - Failed to summarize chunk after 3 attempts: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 12
}
]
2025-05-12 13:41:18,048 - sec_monitor - INFO - ==================================================
2025-05-12 13:41:18,048 - sec_monitor - INFO - Processing last chunk
2025-05-12 13:41:18,048 - sec_monitor - INFO - Timestamp: 2025-05-12 13:41:18
2025-05-12 13:41:18,725 - sec_monitor - INFO - token percentage = 55%
2025-05-12 13:41:18,726 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-12 13:41:18,726 - sec_monitor - INFO - Timestamp: 2025-05-12 13:41:18
2025-05-12 13:41:19,370 - sec_monitor - ERROR - API call failed - Attempt 1
2025-05-12 13:41:19,370 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 41
}
]
2025-05-12 13:41:19,371 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-05-12 13:44:19,471 - sec_monitor - INFO - Making API call - Attempt 2/3
2025-05-12 13:44:19,471 - sec_monitor - INFO - Timestamp: 2025-05-12 13:44:19
2025-05-12 13:44:20,086 - sec_monitor - ERROR - API call failed - Attempt 2
2025-05-12 13:44:20,087 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 40
}
]
2025-05-12 13:44:20,087 - sec_monitor - INFO - Quota exceeded. Sleeping for 180 seconds before retry...
2025-05-12 13:47:20,114 - sec_monitor - INFO - Making API call - Attempt 3/3
2025-05-12 13:47:20,115 - sec_monitor - INFO - Timestamp: 2025-05-12 13:47:20
2025-05-12 13:47:20,981 - sec_monitor - ERROR - API call failed - Attempt 3
2025-05-12 13:47:20,981 - sec_monitor - ERROR - Error: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 39
}
]
2025-05-12 13:47:20,981 - sec_monitor - ERROR - Failed to summarize chunk after 3 attempts: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
  quota_metric: "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count"
  quota_id: "GenerateContentInputTokensPerModelPerMinute-FreeTier"
  quota_dimensions {
    key: "model"
    value: "gemini-1.5-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
  quota_value: 250000
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 39
}
]
2025-05-12 13:47:21,982 - sec_monitor - INFO - Processing filing 2/3: TROW
2025-05-12 13:47:52,385 - sec_monitor - INFO - ==================================================
2025-05-12 13:47:52,385 - sec_monitor - INFO - Processing first chunk
2025-05-12 13:47:52,386 - sec_monitor - INFO - Timestamp: 2025-05-12 13:47:52
2025-05-12 13:47:52,465 - sec_monitor - INFO - token percentage = 2%
2025-05-12 13:47:52,465 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-12 13:47:52,465 - sec_monitor - INFO - Timestamp: 2025-05-12 13:47:52
2025-05-12 13:47:54,346 - sec_monitor - INFO - API call successful
2025-05-12 13:47:55,347 - sec_monitor - INFO - Processing filing 3/3: WEC
2025-05-12 13:48:25,678 - sec_monitor - INFO - ==================================================
2025-05-12 13:48:25,678 - sec_monitor - INFO - Processing first chunk
2025-05-12 13:48:25,679 - sec_monitor - INFO - Timestamp: 2025-05-12 13:48:25
2025-05-12 13:48:25,784 - sec_monitor - INFO - token percentage = 2%
2025-05-12 13:48:25,784 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-12 13:48:25,784 - sec_monitor - INFO - Timestamp: 2025-05-12 13:48:25
2025-05-12 13:48:27,714 - sec_monitor - INFO - API call successful
2025-05-12 13:48:28,716 - sec_monitor - INFO - Fetching supplementary data...
2025-05-12 13:48:28,974 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-05-12 13:48:28,974 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-05-12 13:48:28,974 - sec_monitor - INFO - Market open: True
2025-05-12 13:48:28,974 - sec_monitor - INFO - Number of filing times mapped: 3
2025-05-12 13:48:29,043 - sec_monitor - INFO - Last trading day: 2025-05-12
2025-05-12 13:48:29,043 - sec_monitor - INFO - Processing ticker: FOX
2025-05-12 13:48:29,317 - sec_monitor - INFO - Number of bars for FOX: 3
2025-05-12 13:48:29,317 - sec_monitor - INFO - Last bar close for FOX: 46.73
2025-05-12 13:48:29,317 - sec_monitor - INFO - Market open price for FOX: 46.73, change: -0.48977853492334744%
2025-05-12 13:48:29,317 - sec_monitor - INFO - Processing ticker: TROW
2025-05-12 13:48:29,390 - sec_monitor - INFO - Number of bars for TROW: 3
2025-05-12 13:48:29,391 - sec_monitor - INFO - Last bar close for TROW: 92.71
2025-05-12 13:48:29,391 - sec_monitor - INFO - Market open price for TROW: 92.71, change: 0.010787486515632043%
2025-05-12 13:48:29,391 - sec_monitor - INFO - Processing ticker: WEC
2025-05-12 13:48:29,464 - sec_monitor - INFO - Number of bars for WEC: 3
2025-05-12 13:48:29,464 - sec_monitor - INFO - Last bar close for WEC: 107.645
2025-05-12 13:48:29,464 - sec_monitor - INFO - Market open price for WEC: 107.645, change: -0.2917747313819912%
2025-05-12 13:48:30,713 - sec_monitor - INFO - Generating final output...
2025-05-12 13:48:30,714 - sec_monitor - INFO - Successfully merged 3 new filings with existing JSON
2025-05-12 13:48:30,714 - sec_monitor - INFO - Cumulative stats - Input words: 210965, Output words: 945
2025-05-12 13:48:30,715 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-05-12 13:48:30,715 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 145166, 'output_words': 158, 'filings_processed': 3}
2025-05-12 15:23:32,422 - sec_monitor - INFO - Starting SEC filing monitor 
2025-05-12 15:23:32,422 - sec_monitor - INFO - Loading S&P 500 data...
2025-05-12 15:23:32,422 - sec_monitor - INFO - Starting S&P 500 data initialization
2025-05-12 15:23:32,422 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-05-12 15:23:32,422 - sec_monitor - INFO - Successfully loaded 503 S&P 500 tickers
2025-05-12 15:23:32,422 - sec_monitor - INFO - Initializing components...
2025-05-12 15:23:32,423 - sec_monitor - INFO - Initializing components
2025-05-12 15:23:32,423 - sec_monitor - INFO - SEC fetcher initialized
2025-05-12 15:23:32,423 - sec_monitor - INFO - Filing analyzer initialized
2025-05-12 15:23:32,423 - sec_monitor - INFO - Alpaca clients initialized
2025-05-12 15:23:32,423 - sec_monitor - INFO - All components initialized successfully
2025-05-12 15:23:32,424 - sec_monitor - INFO - Found JSON file from today
2025-05-12 15:23:32,424 - sec_monitor - INFO - Found 12 previously processed accessions and 12 filing URLs
2025-05-12 15:23:32,424 - sec_monitor - INFO - Found 12 accession numbers and 12 URLs from previously processed filings
2025-05-12 15:23:32,424 - sec_monitor - INFO - Fetching SEC filings...
2025-05-12 15:23:52,820 - sec_monitor - INFO - Reached old filing, stopping. Found 55 total filings
2025-05-12 15:23:52,821 - sec_monitor - INFO - Found 1 new interesting filings
2025-05-12 15:23:52,821 - sec_monitor - INFO - Found 1 new filings to process
2025-05-12 15:23:52,821 - sec_monitor - INFO - Processing filing 1/1: STLD
2025-05-12 15:24:23,613 - sec_monitor - INFO - ==================================================
2025-05-12 15:24:23,613 - sec_monitor - INFO - Processing first chunk
2025-05-12 15:24:23,614 - sec_monitor - INFO - Timestamp: 2025-05-12 15:24:23
2025-05-12 15:24:23,818 - sec_monitor - INFO - token percentage = 4%
2025-05-12 15:24:23,818 - sec_monitor - INFO - Making API call - Attempt 1/3
2025-05-12 15:24:23,819 - sec_monitor - INFO - Timestamp: 2025-05-12 15:24:23
2025-05-12 15:24:26,803 - sec_monitor - INFO - API call successful
2025-05-12 15:24:27,805 - sec_monitor - INFO - Fetching supplementary data...
2025-05-12 15:24:28,380 - sec_monitor - INFO - filing_tickers type: <class 'list'>
2025-05-12 15:24:28,380 - sec_monitor - INFO - filing_data type: <class 'list'>
2025-05-12 15:24:28,380 - sec_monitor - INFO - Market open: True
2025-05-12 15:24:28,380 - sec_monitor - INFO - Number of filing times mapped: 1
2025-05-12 15:24:28,422 - sec_monitor - INFO - Last trading day: 2025-05-12
2025-05-12 15:24:28,423 - sec_monitor - INFO - Processing ticker: STLD
2025-05-12 15:24:28,833 - sec_monitor - INFO - Number of bars for STLD: 3
2025-05-12 15:24:28,833 - sec_monitor - INFO - Last bar close for STLD: 130.485
2025-05-12 15:24:28,834 - sec_monitor - INFO - Market open price for STLD: 130.485, change: 0.7489479983013761%
2025-05-12 15:24:29,388 - sec_monitor - INFO - Generating final output...
2025-05-12 15:24:29,389 - sec_monitor - INFO - Successfully merged 1 new filings with existing JSON
2025-05-12 15:24:29,389 - sec_monitor - INFO - Cumulative stats - Input words: 216866, Output words: 1009
2025-05-12 15:24:29,389 - sec_monitor - INFO - Successfully saved/merged output to output/sec_filings.json
2025-05-12 15:24:29,389 - sec_monitor - INFO - Processing complete. Stats: {'input_words': 5901, 'output_words': 64, 'filings_processed': 1}
